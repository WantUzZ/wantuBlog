I"¹î<h2 id="å‰è¨€">å‰è¨€</h2>
<p>æ•°æ®å¯è§†åŒ–å°±æ˜¯å€ŸåŠ©å›¾å½¢åŒ–æ‰‹æ®µå°†åŸæœ¬å†·å†°å†°çš„æ•°æ®ç”ŸåŠ¨çš„ä¼ è¾¾ç»™ç”¨æˆ·ã€‚ç”¨æˆ·èƒ½å¤Ÿè½»æ¾çš„è·å–æœ‰ä»·å€¼çš„æ•°æ®å¹¶åŠæ—¶çš„åšå‡ºç›¸åº”çš„å†³ç­–æ”¯æ’‘ã€‚<br />
ç›®å‰æ¥è§¦åˆ°çš„æ•°æ®è¡¨ç¤ºå½¢å¼æœ‰ä¸€ä¸‹å‡ ç‚¹ï¼š<br />
1ã€è¡¨æ ¼<br />
2ã€å¸¸è§çš„ç»Ÿè®¡å›¾è¡Œï¼ˆæŸ±çŠ¶ã€æ¡å½¢ã€é¥¼å›¾ã€æŠ˜çº¿ï¼Œé›·è¾¾ç­‰ï¼‰<br />
3ã€å…³ç³»å›¾ï¼ˆè¿é€šå›¾ï¼‰<br />
é‚£ä¹ˆæœ‰å“ªäº›æŠ€æœ¯å¯ä»¥è½»æ¾çš„å¸®åŠ©æˆ‘ä»¬å¯¹ä»¥ä¸Šéœ€æ±‚è¿›è¡Œå¤„ç†å‘¢ï¼Ÿ<br />
1ã€jQueryçš„datatables<br />
2ã€EChartsã€D3.js<br />
3ã€cytoscape.js<br /></p>

<h2 id="æ­£æ–‡">æ­£æ–‡</h2>
<p><strong>jQueryçš„DataTables</strong>
è¡¨æ ¼æ˜¯ä¸€ç§å¸¸è§çš„æ•°æ®ç»„ç»‡å½¢å¼ã€‚å¯¹æ ‡çš„éƒ¨é—¨åº”è¯¥æ˜¯è´¢åŠ¡éƒ¨å§ï¼Œå› ä¸ºè´¢åŠ¡æ¯å¤©éƒ½è¦æ¥è§¦å¤§é‡çš„æŠ¥è¡¨ã€‚ä¼ä¸šæ•°æ®éƒ¨é—¨ä»æ•°æ®åº“æŠ“å–ç›¸å…³æ•°æ®è¿›è¡Œä¸€ç³»åˆ—çš„è¿ç®—å¤„ç†å°†æ•°æ®ä»¥æŠ¥è¡¨çš„å½¢å¼æä¾›ç»™è´¢åŠ¡éƒ¨é—¨æ˜¯ä¸€ç§å¸¸è§çš„éœ€æ±‚å½¢å¼ã€‚<br />
åŸå…ˆæ˜¯å¦‚ä½•åˆ¶ä½œè¡¨æ ¼çš„å‘¢ï¼Ÿæˆ‘ä»¬çŸ¥é“htmlä¸­æœ‰ä¸€ä¸ªtableæ ‡ç­¾ï¼Œè¿™ä¸ªæ˜¯æˆ‘å®ä¹ å‰æ¥è§¦æœ€å¤šçš„å…³äºè¡¨æ ¼åŠŸèƒ½çš„è§£å†³åŠæ³•ã€‚ä½†æ˜¯tableæ ‡ç­¾ä½¿ç”¨æ˜¯éçš„éº»çƒ¦éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨çš„ç»„è£…domã€‚å¹¶ä¸”tableä¸å¤Ÿçµæ´»ï¼Œå¾€å¾€å¯¹ä¸€äº›å¸¸ç”¨çš„éœ€æ±‚ï¼ˆå¯¹æ¯åˆ—è¿›è¡Œæ±‚å’Œï¼Œæ’åºï¼Œåˆ†é¡µï¼Œæ•°æ®å¯¼å‡ºï¼‰çš„è§£å†³æ¯”è¾ƒéº»çƒ¦ã€‚<br />
é‚£ä¹ˆè¯·å°è¯•ä½¿ç”¨jQueryçš„datatableså§ã€‚
å®ƒæä¾›çµæ´»å’Œå¼ºå¤§çš„apiã€‚</p>

<h4 id="ä½¿ç”¨">ä½¿ç”¨</h4>
<blockquote>
  <p>å¼•å…¥csså’Œjsæ–‡ä»¶</p>
</blockquote>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nx">link</span> <span class="nx">rel</span><span class="o">=</span><span class="dl">"</span><span class="s2">stylesheet</span><span class="dl">"</span> <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">text/css</span><span class="dl">"</span>
          <span class="nx">href</span><span class="o">=</span><span class="dl">"</span><span class="s2">https://cdn.datatables.net/v/bs/jszip-2.5.0/dt-1.10.16/b-1.4.2/b-html5-1.4.2/datatables.min.css</span><span class="dl">"</span><span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">text/javascript</span><span class="dl">"</span>
            <span class="nx">src</span><span class="o">=</span><span class="dl">"</span><span class="s2">https://cdn.datatables.net/v/bs/jszip-2.5.0/dt-1.10.16/b-1.4.2/b-html5-1.4.2/datatables.min.js</span><span class="dl">"</span><span class="o">&gt;&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span></pre></td></tr></tbody></table></code></pre></div></div>

<blockquote>
  <p>åœ¨ç›¸å…³çš„å‰ç«¯ç•Œé¢å£°æ˜ä¸€ä¸ªtableæ ‡ç­¾<br /></p>
</blockquote>

<p>æ³¨æ„tableæ ‡ç­¾ä¸­çš„å†…å®¹æ˜¯å¯é€‰çš„ï¼Œä¹Ÿå°±æ˜¯è¯´thead tbody è¿™ä¸¤ä¸ªæ ‡ç­¾æ˜¯å¯é€‰çš„ã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nx">table</span> <span class="kd">class</span><span class="o">=</span><span class="dl">"</span><span class="s2">table b-t</span><span class="dl">"</span>  <span class="nx">id</span><span class="o">=</span><span class="dl">"</span><span class="s2">t1</span><span class="dl">"</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="sr">/table</span><span class="err">&gt;
</span></pre></td></tr></tbody></table></code></pre></div></div>
<blockquote>
  <p>jsæ–‡ä»¶ä¸­å¯¹datatablesè¿›è¡Œåˆå§‹åŒ–æ“ä½œ</p>
</blockquote>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
</pre></td><td class="rouge-code"><pre><span class="c1">//æœ€åŸºæœ¬çš„æ ·å­</span>
<span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1"># t1</span><span class="dl">'</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#datatables</span><span class="dl">'</span><span class="p">).</span><span class="nx">dataTable</span><span class="p">({</span>
    <span class="p">...</span>
    <span class="p">});</span>
    <span class="p">}</span>
<span class="p">)</span>

<span class="c1">//ä¸€ä¸ªå·¥ä½œä¸­çš„ä¾‹å­ </span>
<span class="c1">//ä¸€å®šæ³¨æ„ä»¥ä¸‹åˆ—è®¾ç½®ä¸­çš„å¯¹è±¡æ•°ç»„ä¸­æ¯ä¸ªå¯¹è±¡çš„dataå±æ€§çš„å€¼ä¸€å®šè¦å’Œæ•°æ®åº“æŸ¥è¯¢å‡ºæ¥çš„åˆ—åå¯¹ä¸Šï¼</span>
<span class="nx">oTable</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#sales-details</span><span class="dl">'</span><span class="p">).</span><span class="nx">DataTable</span><span class="p">({</span>
            <span class="dl">"</span><span class="s2">ajax</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
                <span class="c1">//è¯·æ±‚æ•°æ®</span>
                <span class="na">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/api/brand/sales</span><span class="dl">"</span><span class="p">,</span>
                <span class="c1">//æ•°æ®è¿”å›æ ¼å¼</span>
                <span class="na">dataType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">json</span><span class="dl">'</span><span class="p">,</span>
                <span class="c1">//è¯·æ±‚æ–¹å¼</span>
                <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">get</span><span class="dl">'</span><span class="p">,</span>
                <span class="c1">//è¯·æ±‚æºå¸¦å‚æ•°</span>
                <span class="na">data</span><span class="p">:</span> <span class="p">{</span>
                	<span class="p">...</span>
                <span class="p">},</span>
                <span class="c1">//å¯¹è¿”å›çš„æ•°æ®è¿›è¡Œå¤„ç†ï¼Œå…¶ä¸­å¯ä»¥å‡ºå‘å…¶ä»–çš„ä¸€äº›æ•°æ®å¯è§†åŒ–çš„å·¥å…·ï¼Œæ¯”å¦‚è¯´echartsã€‚å¯¹äºè¦å±•ç¤ºçš„æ•°æ®ï¼Œå¯¹å…¶è¿›è¡Œreturnã€‚</span>
                <span class="na">dataSrc</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">if</span> <span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">tag</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">success</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
                        <span class="c1">//dataå¯¹è±¡ä¸­çš„detailå±æ€§çš„å€¼æ˜¯æˆ‘ä»¬æƒ³è¦å±•ç¤ºåœ¨datatablesä¸Šçš„ã€‚</span>
                        <span class="k">return</span> <span class="nx">data</span><span class="p">.</span><span class="nx">details</span><span class="p">;</span>
                    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
						<span class="nx">BootstrapDialog</span><span class="p">.</span><span class="nx">show</span><span class="p">({</span>
							<span class="na">title</span><span class="p">:</span> <span class="dl">'</span><span class="s1">æœåŠ¡å™¨è¿”å›é”™è¯¯</span><span class="dl">'</span><span class="p">,</span>
							<span class="na">message</span><span class="p">:</span> <span class="nx">data</span><span class="p">.</span><span class="nx">message</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span>
						<span class="p">});</span>
                        <span class="k">return</span> <span class="p">[];</span>
                    <span class="p">}</span>


                <span class="p">},</span>
                <span class="c1">//é”™è¯¯å¤„ç†</span>
                <span class="na">error</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">){</span>
                    <span class="nx">BootstrapDialog</span><span class="p">.</span><span class="nx">show</span><span class="p">({</span><span class="na">title</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Error</span><span class="dl">'</span><span class="p">,</span> <span class="na">message</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">error</span><span class="p">)});</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="c1">//ç»˜åˆ¶ç»“æŸè§¦å‘çš„å›è°ƒ</span>
            <span class="dl">"</span><span class="s2">fnDrawCallback</span><span class="dl">"</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">oSettings</span><span class="p">)</span> <span class="p">{</span>
                <span class="p">...</span>
            <span class="p">},</span>
            <span class="dl">"</span><span class="s2">processing</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">iDisplayLength</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">aaSorting</span><span class="dl">"</span><span class="p">:</span> <span class="p">[[</span><span class="mi">6</span><span class="p">,</span> <span class="dl">"</span><span class="s2">desc</span><span class="dl">"</span><span class="p">]],</span>
            <span class="c1">//å›½é™…åŒ–æ“ä½œ</span>
            <span class="dl">"</span><span class="s2">oLanguage</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
                <span class="dl">"</span><span class="s2">sLengthMenu</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">æ˜¾ç¤º _MENU_ è®°å½•</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">sEmptyTable</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">æœªæœ‰ç›¸å…³æ•°æ®</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">sInfo</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">å½“å‰æ˜¾ç¤º _START_ åˆ° _END_ æ¡ï¼Œå…± _TOTAL_ æ¡è®°å½•ã€‚</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">sInfoEmpty</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">å½“å‰æ˜¾ç¤º0åˆ°0æ¡ï¼Œå…±0æ¡è®°å½•</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">sInfoFiltered</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ï¼ˆæ•°æ®åº“ä¸­å…±ä¸º _MAX_ æ¡è®°å½•ï¼‰</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">sSearch</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">æ¨¡ç³ŠæŸ¥è¯¢ï¼š</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">bDeferRender</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">sUrl</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">oPaginate</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
                    <span class="dl">"</span><span class="s2">sFirst</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">é¦–é¡µ</span><span class="dl">"</span><span class="p">,</span>
                    <span class="dl">"</span><span class="s2">sPrevious</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2"> ä¸Šä¸€é¡µ </span><span class="dl">"</span><span class="p">,</span>
                    <span class="dl">"</span><span class="s2">sNext</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2"> ä¸‹ä¸€é¡µ </span><span class="dl">"</span><span class="p">,</span>
                    <span class="dl">"</span><span class="s2">sLast</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2"> å°¾é¡µ </span><span class="dl">"</span>
                <span class="p">},</span>
                <span class="dl">"</span><span class="s2">oAria</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
                    <span class="dl">"</span><span class="s2">sSortAscending</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2"> - click/return to sort ascending</span><span class="dl">"</span><span class="p">,</span>
                    <span class="dl">"</span><span class="s2">sSortDescending</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2"> - click/return to sort descending</span><span class="dl">"</span>
                <span class="p">}</span>

            <span class="p">},</span>
            <span class="dl">'</span><span class="s1">dom</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">&lt;"float_left"B&gt;&lt;"float_right"f&gt;rt&lt;"float_left"i&gt;&lt;"float_right"p&gt;</span><span class="dl">'</span><span class="p">,</span>
            <span class="c1">//æ•°æ®å¯¼å‡º</span>
            <span class="dl">"</span><span class="s2">buttons</span><span class="dl">"</span><span class="p">:</span> <span class="p">[{</span>
                <span class="na">extend</span><span class="p">:</span> <span class="dl">'</span><span class="s1">csv</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">text</span><span class="p">:</span> <span class="dl">'</span><span class="s1">å¯¼å‡ºcsv</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">className</span><span class="p">:</span> <span class="dl">'</span><span class="s1">btn btn-info</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">charSet</span><span class="p">:</span> <span class="dl">"</span><span class="s2">utf8</span><span class="dl">"</span>
            <span class="p">},</span> <span class="p">{</span>
                <span class="na">extend</span><span class="p">:</span> <span class="dl">'</span><span class="s1">excel</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">text</span><span class="p">:</span> <span class="dl">'</span><span class="s1">å¯¼å‡ºexcel</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">className</span><span class="p">:</span> <span class="dl">'</span><span class="s1">btn btn-info</span><span class="dl">'</span>

            <span class="p">}],</span>
            <span class="c1">//åˆ—è®¾ç½®</span>
            <span class="dl">"</span><span class="s2">aoColumns</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span><span class="dl">"</span><span class="s2">sTitle</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">åŸå¸‚</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">city_name</span><span class="dl">"</span><span class="p">},</span>
                <span class="p">{</span><span class="dl">"</span><span class="s2">sTitle</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">åº—é“º</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">store_name</span><span class="dl">"</span><span class="p">},</span>
                <span class="p">{</span><span class="dl">"</span><span class="s2">sTitle</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">åœ°å€</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span><span class="p">},</span>
                <span class="p">{</span><span class="dl">"</span><span class="s2">sTitle</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">å•†å“</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">goods_name</span><span class="dl">"</span><span class="p">},</span>
                <span class="p">{</span><span class="dl">"</span><span class="s2">sTitle</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">è´­ä¹°é‡(æ•£è£…)</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">amount</span><span class="dl">"</span><span class="p">},</span>
                <span class="p">{</span><span class="dl">"</span><span class="s2">sTitle</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">è´­ä¹°é‡‘é¢</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">asum</span><span class="dl">"</span><span class="p">},</span>
                <span class="p">{</span><span class="dl">"</span><span class="s2">sTitle</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">é€è¾¾æ—¶é—´</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">arrived_time</span><span class="dl">"</span><span class="p">},</span>
            <span class="p">],</span>
            <span class="c1">//ç‰¹æ®Šåˆ—æ•°æ®å¤„ç† å¯¹ç¬¬7åˆ—ï¼ˆä»0å¼€å§‹ï¼‰çš„å€¼è¿›è¡Œæ—¶é—´çš„æ ¼å¼åŒ–</span>
            <span class="dl">"</span><span class="s2">aoColumnDefs</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="dl">'</span><span class="s1">aTargets</span><span class="dl">'</span><span class="p">:</span> <span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="dl">'</span><span class="s1">mRender</span><span class="dl">'</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
                        <span class="k">return</span> <span class="nx">moment</span><span class="p">(</span><span class="nx">data</span><span class="p">).</span><span class="nx">format</span><span class="p">(</span><span class="dl">'</span><span class="s1">YYYY-MM-DD HH:mm:ss</span><span class="dl">'</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">]</span>

        <span class="p">});</span>

</pre></td></tr></tbody></table></code></pre></div></div>
<p>ä»¥ä¸Šæ˜¯å…³äºjQueryçš„datatablesçš„ç®€å•çš„ä½¿ç”¨ã€‚<br /></p>
<h4 id="è¡¨æ ¼åº•éƒ¨æ–°å¢æ€»è®¡">è¡¨æ ¼åº•éƒ¨æ–°å¢æ€»è®¡</h4>
<p><img src="/img/xzhj.jpg" alt="æŸ¥è¯¢æ‰§è¡Œè·¯å¾„å›¾" />
<strong>é¦–å…ˆåœ¨tableä½“ä¸­åŠ ä¸Štfoot</strong></p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nx">table</span> <span class="nx">id</span><span class="o">=</span><span class="dl">"</span><span class="s2">sales-details</span><span class="dl">"</span>
               <span class="kd">class</span><span class="o">=</span><span class="dl">"</span><span class="s2">table-condensed font-small table-hover table-striped dataTable no-footer</span><span class="dl">"</span> <span class="nx">cellspacing</span><span class="o">=</span><span class="dl">"</span><span class="s2">0</span><span class="dl">"</span>
               <span class="nx">width</span><span class="o">=</span><span class="dl">"</span><span class="s2">100%</span><span class="dl">"</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">tfoot</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">tr</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="nx">th</span><span class="o">&gt;</span><span class="err">åˆè®¡</span><span class="o">&lt;</span><span class="sr">/th</span><span class="err">&gt;
</span>                <span class="o">&lt;</span><span class="nx">th</span><span class="o">&gt;&lt;</span><span class="sr">/th</span><span class="err">&gt;
</span>                <span class="o">&lt;</span><span class="nx">th</span><span class="o">&gt;&lt;</span><span class="sr">/th</span><span class="err">&gt;
</span>                <span class="o">&lt;</span><span class="nx">th</span><span class="o">&gt;&lt;</span><span class="sr">/th</span><span class="err">&gt;
</span>                <span class="o">&lt;</span><span class="nx">th</span><span class="o">&gt;&lt;</span><span class="sr">/th</span><span class="err">&gt;
</span>                <span class="o">&lt;</span><span class="nx">th</span><span class="o">&gt;&lt;</span><span class="sr">/th</span><span class="err">&gt;
</span>                <span class="o">&lt;</span><span class="nx">th</span><span class="o">&gt;&lt;</span><span class="sr">/th</span><span class="err">&gt;
</span>                <span class="o">&lt;</span><span class="nx">th</span><span class="o">&gt;&lt;</span><span class="sr">/th</span><span class="err">&gt;
</span>                <span class="o">&lt;</span><span class="nx">th</span><span class="o">&gt;&lt;</span><span class="sr">/th</span><span class="err">&gt;
</span>                <span class="o">&lt;</span><span class="nx">th</span><span class="o">&gt;&lt;</span><span class="sr">/th</span><span class="err">&gt;
</span>                <span class="o">&lt;</span><span class="nx">th</span><span class="o">&gt;&lt;</span><span class="sr">/th</span><span class="err">&gt;
</span>                <span class="o">&lt;</span><span class="nx">th</span><span class="o">&gt;&lt;</span><span class="sr">/th</span><span class="err">&gt;
</span>                <span class="o">&lt;</span><span class="nx">th</span><span class="o">&gt;&lt;</span><span class="sr">/th</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="sr">/tr</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="sr">/tfoot</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/table</span><span class="err">&gt;
</span></pre></td></tr></tbody></table></code></pre></div></div>
<p>åœ¨optionä¸­æ–°å¢ä¸€ä¸ªfooterCallback:å†™ä¸Šä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
</pre></td><td class="rouge-code"><pre><span class="nx">oTable</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#sales-details</span><span class="dl">'</span><span class="p">).</span><span class="nx">DataTable</span><span class="p">({</span>
            <span class="dl">"</span><span class="s2">ajax</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/</span><span class="dl">"</span><span class="p">,</span>
                <span class="na">dataType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">json</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">get</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">data</span><span class="p">:</span> <span class="p">{</span>
                    <span class="na">start_date_no1</span><span class="p">:</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#start-date-no1</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span> <span class="o">||</span><span class="dl">''</span><span class="p">,</span>
                    <span class="na">end_date_no1</span><span class="p">:</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#end-date-no1</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span> <span class="o">||</span> <span class="dl">''</span><span class="p">,</span>
                    <span class="na">cityIds</span><span class="p">:</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#city-select</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span> <span class="o">||</span><span class="dl">''</span>
                <span class="p">},</span>
                <span class="na">dataSrc</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">if</span> <span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">tag</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">success</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
                        <span class="nx">echart9_data</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
                        <span class="k">return</span> <span class="nx">data</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
                    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                        <span class="nx">BootstrapDialog</span><span class="p">.</span><span class="nx">show</span><span class="p">({</span>
                            <span class="na">title</span><span class="p">:</span> <span class="dl">'</span><span class="s1">æœåŠ¡å™¨è¿”å›é”™è¯¯</span><span class="dl">'</span><span class="p">,</span>
                            <span class="na">message</span><span class="p">:</span> <span class="nx">data</span><span class="p">.</span><span class="nx">message</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span>
                        <span class="p">});</span>
                        <span class="k">return</span> <span class="p">[];</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="na">error</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">){</span>
                    <span class="nx">BootstrapDialog</span><span class="p">.</span><span class="nx">show</span><span class="p">({</span><span class="na">title</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Error</span><span class="dl">'</span><span class="p">,</span> <span class="na">message</span><span class="p">:</span><span class="nx">error</span><span class="p">.</span><span class="nx">toString</span><span class="p">()})</span>
                <span class="p">},</span>
                 <span class="na">complete</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">oSettings</span><span class="p">)</span> <span class="p">{</span>
                    <span class="c1">//console.log('wantu.....');</span>
                     <span class="c1">//draw_echart9(echart9_data);</span>
                 <span class="p">},</span>
            <span class="p">},</span>
            <span class="dl">"</span><span class="s2">processing</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">iDisplayLength</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
            <span class="c1">//é»˜è®¤å¯¹ç¬¬7åˆ—è¿›è¡Œé™åºæ’</span>
            <span class="dl">"</span><span class="s2">aaSorting</span><span class="dl">"</span><span class="p">:</span> <span class="p">[[</span><span class="mi">6</span><span class="p">,</span> <span class="dl">"</span><span class="s2">desc</span><span class="dl">"</span><span class="p">]],</span>
            <span class="dl">"</span><span class="s2">oLanguage</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
                <span class="dl">"</span><span class="s2">sLengthMenu</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">æ˜¾ç¤º _MENU_ è®°å½•</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">sEmptyTable</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">æœªæœ‰ç›¸å…³æ•°æ®</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">sInfo</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">å½“å‰æ˜¾ç¤º _START_ åˆ° _END_ æ¡ï¼Œå…± _TOTAL_ æ¡è®°å½•ã€‚</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">sInfoEmpty</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">å½“å‰æ˜¾ç¤º0åˆ°0æ¡ï¼Œå…±0æ¡è®°å½•</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">sInfoFiltered</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ï¼ˆæ•°æ®åº“ä¸­å…±ä¸º _MAX_ æ¡è®°å½•ï¼‰</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">sSearch</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">æ¨¡ç³ŠæŸ¥è¯¢ï¼š</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">bDeferRender</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">sUrl</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">oPaginate</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
                    <span class="dl">"</span><span class="s2">sFirst</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">é¦–é¡µ</span><span class="dl">"</span><span class="p">,</span>
                    <span class="dl">"</span><span class="s2">sPrevious</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2"> ä¸Šä¸€é¡µ </span><span class="dl">"</span><span class="p">,</span>
                    <span class="dl">"</span><span class="s2">sNext</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2"> ä¸‹ä¸€é¡µ </span><span class="dl">"</span><span class="p">,</span>
                    <span class="dl">"</span><span class="s2">sLast</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2"> å°¾é¡µ </span><span class="dl">"</span>
                <span class="p">},</span>
                <span class="dl">"</span><span class="s2">oAria</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
                    <span class="dl">"</span><span class="s2">sSortAscending</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2"> - click/return to sort ascending</span><span class="dl">"</span><span class="p">,</span>
                    <span class="dl">"</span><span class="s2">sSortDescending</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2"> - click/return to sort descending</span><span class="dl">"</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="dl">'</span><span class="s1">dom</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">&lt;"float_left"B&gt;&lt;"float_right"f&gt;rt&lt;"float_left"i&gt;&lt;"float_right"p&gt;</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">buttons</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">],</span>
            <span class="dl">"</span><span class="s2">columns</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span><span class="dl">"</span><span class="s2">sTitle</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">åŸå¸‚</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">cityName</span><span class="dl">"</span><span class="p">},</span>
                <span class="p">{</span><span class="dl">"</span><span class="s2">sTitle</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">å®é™…GMV</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">gmv</span><span class="dl">"</span><span class="p">},</span>
                <span class="p">{</span><span class="dl">"</span><span class="s2">sTitle</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GMVç›®æ ‡</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">gmvGoal</span><span class="dl">"</span><span class="p">},</span>
                <span class="p">{</span><span class="dl">"</span><span class="s2">sTitle</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GMVæœˆç›®æ ‡</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">gmvMonthGoalShow</span><span class="dl">"</span><span class="p">},</span>
                <span class="p">{</span><span class="dl">"</span><span class="s2">sTitle</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GMVå®Œæˆç‡</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="dl">'</span><span class="s1">gmvPercent</span><span class="dl">'</span><span class="p">},</span>
                <span class="p">{</span><span class="dl">"</span><span class="s2">sTitle</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">å®é™…æ¯›åˆ©é¢</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="dl">'</span><span class="s1">profit</span><span class="dl">'</span><span class="p">},</span>
                <span class="p">{</span><span class="dl">"</span><span class="s2">sTitle</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">æ¯›åˆ©é¢ç›®æ ‡</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="dl">'</span><span class="s1">profitGoal</span><span class="dl">'</span><span class="p">},</span>
                <span class="p">{</span><span class="dl">"</span><span class="s2">sTitle</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">æ¯›åˆ©é¢æœˆç›®æ ‡</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="dl">'</span><span class="s1">profitMonthGoalShow</span><span class="dl">'</span><span class="p">},</span>
                <span class="p">{</span><span class="dl">"</span><span class="s2">sTitle</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">æ¯›åˆ©é¢å®Œæˆç‡</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="dl">'</span><span class="s1">profitPercent</span><span class="dl">'</span><span class="p">},</span>
                <span class="p">{</span><span class="dl">"</span><span class="s2">sTitle</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">å®é™…å‡€åˆ©æ¶¦</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="dl">'</span><span class="s1">netProfit</span><span class="dl">'</span><span class="p">},</span>
                <span class="p">{</span><span class="dl">"</span><span class="s2">sTitle</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">å‡€åˆ©æ¶¦ç›®æ ‡</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="dl">'</span><span class="s1">netProfitGoal</span><span class="dl">'</span><span class="p">},</span>
                <span class="p">{</span><span class="dl">"</span><span class="s2">sTitle</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">å‡€åˆ©æ¶¦æœˆç›®æ ‡</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="dl">'</span><span class="s1">netProfitMonthGoalShow</span><span class="dl">'</span><span class="p">},</span>
                <span class="p">{</span><span class="dl">"</span><span class="s2">sTitle</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">å‡€åˆ©æ¶¦å®Œæˆç‡</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="dl">'</span><span class="s1">netProfitPercent</span><span class="dl">'</span><span class="p">}</span>
            <span class="p">],</span>
            <span class="dl">"</span><span class="s2">aoColumnDefs</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="dl">'</span><span class="s1">aTargets</span><span class="dl">'</span><span class="p">:</span> <span class="p">[],</span>
                    <span class="dl">'</span><span class="s1">mRender</span><span class="dl">'</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
                        <span class="k">return</span> <span class="p">(</span><span class="nx">data</span> <span class="o">*</span> <span class="mi">100</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">%</span><span class="dl">"</span><span class="p">;</span>
                    <span class="p">}</span>
                <span class="p">},</span>
            <span class="p">],</span>
            <span class="dl">"</span><span class="s2">footerCallback</span><span class="dl">"</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">row</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">start</span><span class="p">,</span> <span class="nx">end</span><span class="p">,</span> <span class="nx">display</span><span class="p">){</span>
                <span class="kd">var</span> <span class="nx">api</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">api</span><span class="p">(),</span> <span class="nx">data</span><span class="p">;</span>
                <span class="c1">// Remove the formatting to get integer data for summation</span>
                <span class="kd">var</span> <span class="nx">intVal</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span> <span class="nx">i</span> <span class="p">)</span> <span class="p">{</span>
                    <span class="k">return</span> <span class="k">typeof</span> <span class="nx">i</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">string</span><span class="dl">'</span> <span class="p">?</span>
                        <span class="nx">i</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">[\$</span><span class="sr">,</span><span class="se">]</span><span class="sr">/g</span><span class="p">,</span> <span class="dl">''</span><span class="p">)</span><span class="o">*</span><span class="mi">1</span> <span class="p">:</span>
                        <span class="k">typeof</span> <span class="nx">i</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">number</span><span class="dl">'</span> <span class="p">?</span>
                            <span class="nx">i</span> <span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
                <span class="p">};</span>
                <span class="kd">var</span> <span class="nx">goalToal</span> <span class="o">=</span> <span class="p">{};</span>
                <span class="kd">var</span> <span class="nx">actual</span> <span class="o">=</span> <span class="p">{};</span>
                <span class="kd">var</span>  <span class="nx">i</span> <span class="o">=</span><span class="mi">1</span><span class="p">;</span>
                <span class="k">for</span> <span class="p">(</span><span class="nx">i</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;=</span><span class="mi">12</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span>
                    <span class="c1">//å®é™…æ€»è®¡</span>
                    <span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="o">===</span><span class="mi">1</span><span class="o">||</span><span class="nx">i</span><span class="o">===</span><span class="mi">5</span><span class="o">||</span><span class="nx">i</span><span class="o">===</span><span class="mi">9</span><span class="p">){</span>
                        <span class="nx">pageTotal</span> <span class="o">=</span> <span class="nx">api</span>
                            <span class="p">.</span><span class="nx">column</span><span class="p">(</span> <span class="nx">i</span><span class="p">,</span> <span class="p">{</span> <span class="na">page</span><span class="p">:</span> <span class="dl">'</span><span class="s1">current</span><span class="dl">'</span><span class="p">}</span> <span class="p">)</span>
                            <span class="p">.</span><span class="nx">data</span><span class="p">()</span>
                            <span class="p">.</span><span class="nx">reduce</span><span class="p">(</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
                                <span class="nx">a</span><span class="o">=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">||</span><span class="mi">0</span><span class="p">;</span>
                                <span class="nx">b</span><span class="o">=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="o">||</span><span class="mi">0</span><span class="p">;</span>
                                <span class="k">return</span> <span class="nx">intVal</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="o">+</span> <span class="nx">intVal</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span>
                            <span class="p">},</span> <span class="mi">0</span> <span class="p">);</span>
                        <span class="nx">actual</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">pageTotal</span><span class="p">;</span>
                        <span class="nx">$</span><span class="p">(</span><span class="nx">api</span><span class="p">.</span><span class="nx">column</span><span class="p">(</span><span class="nx">i</span><span class="p">).</span><span class="nx">footer</span><span class="p">()).</span><span class="nx">html</span><span class="p">(</span>
                            <span class="nx">pageTotal</span>
                        <span class="p">)</span>
                    <span class="p">}</span>
                    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">i</span> <span class="o">===</span> <span class="mi">2</span><span class="o">||</span><span class="nx">i</span><span class="o">===</span><span class="mi">6</span><span class="o">||</span><span class="nx">i</span><span class="o">===</span><span class="mi">10</span><span class="p">){</span>
                        <span class="nx">pageTotal</span> <span class="o">=</span> <span class="nx">api</span>
                            <span class="p">.</span><span class="nx">column</span><span class="p">(</span> <span class="nx">i</span><span class="p">,</span> <span class="p">{</span> <span class="na">page</span><span class="p">:</span> <span class="dl">'</span><span class="s1">current</span><span class="dl">'</span><span class="p">}</span> <span class="p">)</span>
                            <span class="p">.</span><span class="nx">data</span><span class="p">()</span>
                            <span class="p">.</span><span class="nx">reduce</span><span class="p">(</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
                                <span class="nx">a</span><span class="o">=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">||</span><span class="mi">0</span><span class="p">;</span>
                                <span class="nx">b</span><span class="o">=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="o">||</span><span class="mi">0</span><span class="p">;</span>
                                <span class="k">return</span> <span class="nx">intVal</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="o">+</span> <span class="nx">intVal</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span>
                            <span class="p">},</span> <span class="mi">0</span> <span class="p">);</span>
                        <span class="nx">goalToal</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">pageTotal</span><span class="p">;</span>
                        <span class="nx">$</span><span class="p">(</span><span class="nx">api</span><span class="p">.</span><span class="nx">column</span><span class="p">(</span><span class="nx">i</span><span class="p">).</span><span class="nx">footer</span><span class="p">()).</span><span class="nx">html</span><span class="p">(</span>
                            <span class="nx">pageTotal</span>
                        <span class="p">)</span>
                    <span class="p">}</span>
                    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">i</span> <span class="o">===</span><span class="mi">4</span> <span class="o">||</span><span class="nx">i</span> <span class="o">===</span><span class="mi">8</span><span class="o">||</span><span class="nx">i</span><span class="o">===</span> <span class="mi">12</span><span class="p">){</span>
                        <span class="nx">$</span><span class="p">(</span><span class="nx">api</span><span class="p">.</span><span class="nx">column</span><span class="p">(</span><span class="nx">i</span><span class="p">).</span><span class="nx">footer</span><span class="p">()).</span><span class="nx">html</span><span class="p">(</span>
                            <span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">((</span><span class="mi">1</span><span class="o">+</span><span class="p">((</span><span class="nx">actual</span><span class="p">[</span><span class="nx">i</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span><span class="o">-</span><span class="nx">goalToal</span><span class="p">[</span><span class="nx">i</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span><span class="o">/</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">goalToal</span><span class="p">[</span><span class="nx">i</span><span class="o">-</span><span class="mi">2</span><span class="p">])))).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">*</span><span class="mi">10000</span><span class="p">)</span><span class="o">/</span><span class="mi">100</span>
                            <span class="o">+</span><span class="dl">'</span><span class="s1">%</span><span class="dl">'</span>
                        <span class="p">)</span>
                    <span class="p">}</span>
                    <span class="k">else</span><span class="p">{</span>
                        <span class="c1">// Total over this page</span>
                        <span class="nx">pageTotal</span> <span class="o">=</span> <span class="nx">api</span>
                            <span class="p">.</span><span class="nx">column</span><span class="p">(</span> <span class="nx">i</span><span class="p">,</span> <span class="p">{</span> <span class="na">page</span><span class="p">:</span> <span class="dl">'</span><span class="s1">current</span><span class="dl">'</span><span class="p">}</span> <span class="p">)</span>
                            <span class="p">.</span><span class="nx">data</span><span class="p">()</span>
                            <span class="p">.</span><span class="nx">reduce</span><span class="p">(</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
                                <span class="nx">a</span><span class="o">=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">||</span><span class="mi">0</span><span class="p">;</span>
                                <span class="nx">b</span><span class="o">=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="o">||</span><span class="mi">0</span><span class="p">;</span>
                                <span class="k">return</span> <span class="nx">intVal</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="o">+</span> <span class="nx">intVal</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span>
                            <span class="p">},</span> <span class="mi">0</span> <span class="p">);</span>
                        <span class="c1">// Update footer</span>
                        <span class="nx">$</span><span class="p">(</span> <span class="nx">api</span><span class="p">.</span><span class="nx">column</span><span class="p">(</span> <span class="nx">i</span> <span class="p">).</span><span class="nx">footer</span><span class="p">()</span> <span class="p">).</span><span class="nx">html</span><span class="p">(</span>
                            <span class="nx">pageTotal</span>
                            <span class="c1">//+' ( '+ total +' total)'</span>
                        <span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">},</span>
        <span class="p">});</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="å¤æ‚è¡¨å¤´éœ€æ±‚">å¤æ‚è¡¨å¤´éœ€æ±‚</h4>

<p><img src="/img/fzbt.jpg" alt="æŸ¥è¯¢æ‰§è¡Œè·¯å¾„å›¾" />
å…¶å®å°±æ˜¯åœ¨è¡¨å¤´æ”¹åŠ¨ä¸€ä¸‹å°±è¡Œäº†ï¼š<br /></p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
</pre></td><td class="rouge-code"><pre> <span class="nt">&lt;table</span> <span class="na">id=</span><span class="s">"buyAndSaleTable"</span> <span class="na">class=</span><span class="s">"table table-striped table-bordered table-hover"</span> <span class="na">cellspacing=</span><span class="s">"0"</span>
                       <span class="na">width=</span><span class="s">"100%"</span><span class="nt">&gt;</span>
                    <span class="c">&lt;!--table table-striped table-bordered table-hover--&gt;</span>
                    <span class="c">&lt;!--table-condensed font-small table-hover table-striped dataTable no-footer--&gt;</span>
                    <span class="nt">&lt;thead&gt;</span>
                    <span class="nt">&lt;tr&gt;</span>
                        <span class="c">&lt;!--rowspançºµå‘åˆå¹¶ colspanæ¨ªå‘åˆå¹¶--&gt;</span>
                        <span class="nt">&lt;th</span> <span class="na">rowspan=</span><span class="s">"2"</span> <span class="na">style=</span><span class="s">"text-align: center"</span><span class="nt">&gt;</span>åŸå¸‚<span class="nt">&lt;/th&gt;</span>
                        <span class="nt">&lt;th</span> <span class="na">rowspan=</span><span class="s">"2"</span> <span class="na">style=</span><span class="s">"text-align: center"</span><span class="nt">&gt;</span>å“ç±»<span class="nt">&lt;/th&gt;</span>
                        <span class="nt">&lt;th</span> <span class="na">colspan=</span><span class="s">"6"</span> <span class="na">style=</span><span class="s">"text-align: center"</span><span class="nt">&gt;</span>GMVç»Ÿè®¡<span class="nt">&lt;/th&gt;</span>
                        <span class="nt">&lt;th</span> <span class="na">colspan=</span><span class="s">"6"</span> <span class="na">style=</span><span class="s">"text-align: center"</span><span class="nt">&gt;</span>æ¯›åˆ©é¢ç»Ÿè®¡<span class="nt">&lt;/th&gt;</span>
                    <span class="nt">&lt;/tr&gt;</span>
                    <span class="nt">&lt;tr&gt;</span>
                        <span class="nt">&lt;th&gt;</span>å½“æœŸGMV<span class="nt">&lt;/th&gt;</span>
                        <span class="nt">&lt;th&gt;</span>å‘¨æœŸç¯æ¯”GMV<span class="nt">&lt;/th&gt;</span>
                        <span class="nt">&lt;th&gt;</span>æœˆç¯æ¯”GMV<span class="nt">&lt;/th&gt;</span>
                        <span class="nt">&lt;th&gt;</span>æœˆç¯æ¯”å¢é•¿ç‡<span class="nt">&lt;/th&gt;</span>
                        <span class="nt">&lt;th&gt;</span>åŒæ¯”GMV<span class="nt">&lt;/th&gt;</span>
                        <span class="nt">&lt;th&gt;</span>åŒæ¯”å¢é•¿ç‡<span class="nt">&lt;/th&gt;</span>
                        <span class="nt">&lt;th&gt;</span>å½“æœŸæ¯›åˆ©é¢<span class="nt">&lt;/th&gt;</span>
                        <span class="nt">&lt;th&gt;</span>å‘¨æœŸç¯æ¯”æ¯›åˆ©é¢<span class="nt">&lt;/th&gt;</span>
                        <span class="nt">&lt;th&gt;</span>æœˆç¯æ¯”æ¯›åˆ©é¢<span class="nt">&lt;/th&gt;</span>
                        <span class="nt">&lt;th&gt;</span>æœˆç¯æ¯”å¢é•¿ç‡<span class="nt">&lt;/th&gt;</span>
                        <span class="nt">&lt;th&gt;</span>åŒæ¯”æ¯›åˆ©é¢<span class="nt">&lt;/th&gt;</span>
                        <span class="nt">&lt;th&gt;</span>åŒæ¯”å¢é•¿ç‡<span class="nt">&lt;/th&gt;</span>
                    <span class="nt">&lt;/tr&gt;</span>
                    <span class="nt">&lt;/thead&gt;</span>
                    <span class="nt">&lt;tbody</span> <span class="na">id=</span><span class="s">"buyAndSale"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;/tbody&gt;</span>
                <span class="nt">&lt;/table&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<h2 id="å°ç»“">å°ç»“</h2>
<p>Â â€ƒè¯´è¯´è‡ªå·±çš„ä½¿ç”¨çš„ç–‘æƒ‘ï¼Œä¸€å¼€å§‹ä½¿ç”¨è§‰å¾—åˆå§‹åŒ–çš„ä¸œè¥¿å¤ªå¤šäº†ï¼Œè®°éƒ½è®°ä¸ä½ã€‚ä½†æ˜¯å¸Œæœ›ä½ æ˜ç™½ä¸€ä¸ªé“ç†ï¼Œå…ˆä½¿ç”¨å®ƒåšä¸ªdemoçœ‹çœ‹ã€‚
å›½é™…åŒ–æ“ä½œé‚£ä¸€å—ï¼Œæˆ‘ä¸ªäººæ˜¯æ²¡æœ‰è®°çš„ï¼Œæ¯æ¬¡éƒ½æ˜¯ç›´æ¥copyè¿‡æ¥ä½¿ç”¨ã€‚å…¶ä»–åœ°æ–¹ç†Ÿèƒ½ç”Ÿå·§ã€‚ç›¸ä¿¡ä¼šå¾ˆå¿«ä¸Šæ‰‹ã€‚</p>
:ET