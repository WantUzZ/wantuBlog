---
layout:     post
title:      "git相关命令以及好的提交规范"
subtitle:   ""
date:       2018-11-02
author:     "wantu"
header-img: "img/lake.jpg"
catalog: true
tags:
    - git
---
## 前言
&nbsp;&#8195;今天突然发现自己的原先的提交很乱，于是乎自己想去纠正一下自己长期以来的提交规范问题。自己在github上也发现了一个大牛有过对提交规范的一些整理。
抱着学习的态度。我把他的东西再次进行压缩。想必非常适合我们这种新入行的小学生了。<br>
[完整版提交规范参上](http://github.phodal.com/#git-%E6%8F%90%E4%BA%A4%E4%BF%A1%E6%81%AF%E5%8F%8A%E5%87%A0%E7%A7%8D%E4%B8%8D%E5%90%8C%E7%9A%84%E8%A7%84%E8%8C%83) <br>
#### 常用命令

* git help 帮助
* git init 现有目录初始化仓库，仅仅只是初始化，项目中的文件未被跟踪
* git clone 克隆代码 ,克隆操作会自动使用默认的master和origin名字
* git checkout 分支切换
* git checkout -b 'xxx' 切出分支xxx

* git branch 查看分支 -b(new branch新建一个分支)
* git status 检查当前文件状态 -s参数状态简览
* git diff 对比本地代码与上次的区别 1、--cache查看已经暂存起来的变化
* git add  跟踪新文件（记得和.gitignore一起食用效果更佳）
* git RESET HEAD 取消暂存的文件（有个git checkout --fileName命令用于撤销对文件的修改但是不推荐使用）
* git log 查看提交历史 1、-p 显示每次提交的差异，后续可跟-n eg:git log -p -2最近两次提交 的差异 2、--graph 显示 ASCII 图形表示的分支合并历史 3、--oneline 4、--reverse
* git commit 提交更新 -a：跳过使用暂存区域【对改动特别自信，又嫌git add .麻烦的，否则还是一步一步来吧】
* git commit --amend 撤消操作
* git push 提交代码 
* git rm 移除文件 1、-f 删除文件之前已经对文件进行改动并且已经放到暂存区，需用-f进行强制删除。2、--cached 仅从跟踪清单中删除，当前工作目录仍会保留相关文件。

* git remote -v 查看远程仓库
* git remote show [remote-name] 查看远程仓库
* git remote add <shortName> <url> 添加远程仓库，同时指定一个简写名 eg:git add want git://github.com/xxx/xx 以后就可以用want代替对应的仓库地址了
* git remote rename [new-name] 远程仓库重新命名(修改某个远程仓库在本地的简称) git remote rename want wantu
* git remote rm [remote-name] 删除远程仓库
* git fetch [remote-name] 从远程仓库拉取本地还没有的数据。执行完成后，你将会拥有那个远程仓库中所有分支的引用，可以随时合并或查看。
* git merge branch-name 合并分支（一般在其他分支合并自己的开发分支，因为一旦出现冲突处理起来比较方便）

* git tag 列出标签
* git tag -a <tag-version> -m <remark-info> 添加附注标签（推荐使用）-a(annotated：注释)
* git tag <tag-version> 添加轻量标签
* git tag -a <tag-version> <校验和或者部分校验和> 后期打标签
* git tag push origin [tagname] 显式的将标签推送到远程服务器
* git tag push origin --tags 一次推送所有本地新增的标签上去
* git config --global alias.ci commit   =>  git commit 可以用git ci替代 同理其他命令

#### 理解分支
git存储数据的方式不是通过保存文件差异或者变化量进行的，而是一系列的文件快照。

#### 提交规范
&nbsp;&#8195;建议小步提交，防止一次修改过多文件，导致后期维护、撤销等困难。<br>

**工作**<br>
&nbsp;&#8195;如果是使用jira作为看板工具，那么提交的时候最好将jira的任务卡号信息携带进去。<br>
```
[任务卡号] 老王 & 老李: do something
```

**常规**
```
[任务分类] 修改模块/组件：修改内容
任务分类：
1、功能新增
2、功能完善
3、bug修复
4、文档补充
```

