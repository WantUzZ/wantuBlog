<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>want</title>
    <description>关于程序与设计、黑客与画家 | 王涛，Web &amp; Mobile Lover，Software Engineer，UX Designer | 这里是 @want王涛 的个人博客，与你一起发现更大的世界。</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml" />
    <pubDate>Sat, 09 Dec 2023 10:43:45 +0800</pubDate>
    <lastBuildDate>Sat, 09 Dec 2023 10:43:45 +0800</lastBuildDate>
    <generator>Jekyll v4.3.2</generator>
    
      <item>
        <title>回顾这一年，2023。</title>
        <description>&lt;h2 id=&quot;去年&quot;&gt;去年&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;和对象一起去了北京、景德镇、迪士尼&lt;/li&gt;
  &lt;li&gt;读了 10 本书&lt;/li&gt;
  &lt;li&gt;锻炼了 60 次 + 每周至少 3 天乒乓&lt;/li&gt;
  &lt;li&gt;买房&lt;/li&gt;
  &lt;li&gt;拔牙、根管治疗&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;感悟&quot;&gt;感悟&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;这世上有两个黑洞–权利和金钱。离黑洞愈近的人和事都将变得愈加复杂。&lt;/li&gt;
  &lt;li&gt;距离产生美&lt;/li&gt;
&lt;/ol&gt;
</description>
        <pubDate>Mon, 11 Dec 2023 04:00:00 +0800</pubDate>
        <link>http://localhost:4000/2023/12/11/yearSummary/</link>
        <guid isPermaLink="true">http://localhost:4000/2023/12/11/yearSummary/</guid>
        
        <category>年度总结</category>
        
        
      </item>
    
      <item>
        <title>CI/CD</title>
        <description>&lt;h1 id=&quot;介绍&quot;&gt;介绍&lt;/h1&gt;

&lt;p&gt;CICD 代表持续集成（Continuous Integration）和持续交付（Continuous Delivery），是一种软件开发实践，旨在通过自动化软件构建、测试和部署的过程，实现对软件的快速、可靠的交付。&lt;/p&gt;

&lt;p&gt;CICD 工具集包括各种自动化构建工具、测试工具、部署工具，以及用于监视和日志记录的工具。流行的 CICD 工具包括 Jenkins、Travis CI、GitLab CI/CD、CircleCI 等。&lt;/p&gt;

&lt;h1 id=&quot;gitlab-cicd&quot;&gt;GitLab CI/CD&lt;/h1&gt;

&lt;h2 id=&quot;前置条件&quot;&gt;前置条件&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;可用的 Runner&lt;/li&gt;
  &lt;li&gt;项目权限&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;gitlab-runner&quot;&gt;GitLab Runner&lt;/h2&gt;

&lt;p&gt;本质来说，Runner 就是一个可以提供执行脚本环境的环境。它会根据.gitlab-ci.yml 配置文件来执行一连串的任务。Runner 可以被灵活的安装在服务器、Docker 上。&lt;/p&gt;

&lt;h2 id=&quot;开始&quot;&gt;开始&lt;/h2&gt;

&lt;p&gt;在安装配置好 Runner 后，创建.gitlab-ci.yml 文件，可用在其中配置 GitLab CI/CD 的特定指令。
文件中定义:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Runner 应执行的作业的结构和顺序&lt;/li&gt;
  &lt;li&gt;Runner 在遇到特定条件时做出的决定&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;基本流程&quot;&gt;基本流程&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;研发推送代码&lt;/li&gt;
  &lt;li&gt;触发 GitLab CI&lt;/li&gt;
  &lt;li&gt;runner 执行预定义的脚本&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;概念&quot;&gt;概念&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;流水线（Pipelines）。顶级组件。
流水线包括：
工作（Jobs）。定义做什么。例如，编译或测试代码的作业。
阶段 (Stages)。定义何时运行作业。例如，在编译代码的阶段之后运行测试的阶段。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;作业(Job)。流水线配置从作业开始。作业是.gitlab-ci.yml 文件中最基本的元素。
工作是：定义了约束条件，说明它们应该在什么条件下执行。
具有任意名称的顶级元素，并且必须至少包含 script 子句。
不限制可以定义的数量
&lt;img src=&quot;/img/20231122_cicdno1.jpg&quot; alt=&quot;Alt text&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;环境变量（Variables）。变量通过使其他地方定义的值可供作业访问来帮助您自定义作业。它们可以硬编码在.gitlab-ci.yml 文件、项目设置中，也可以动态生成。&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;实践&quot;&gt;实践&lt;/h2&gt;

&lt;p&gt;理想的 CI/CD 流程：从功能分支和合并请求开始工作，并且仅在更改合并到默认分支时才触发 CI/CD，并且流水线的 styleCheck、test、build、deploy 等任务是顺序执行的。&lt;/p&gt;

&lt;div class=&quot;language-yml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# 全局变量&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;variables&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;XXX&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;xxx&quot;&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# 定义4个stage&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;stages&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;styleCheck&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;test&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;build&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;deploy&lt;/span&gt;

&lt;span class=&quot;na&quot;&gt;style-check-job&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;stage&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;styleCheck&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;only&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# 此job匹配哪个branch或者tag或者trigger&lt;/span&gt;
   &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;dev&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#- &amp;lt;一个匹配日常分支的正则&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;except&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
   &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;master&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# 此job忽略tag&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# 每一个 job，需要定义一个 image&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;xxx镜像地址xxx&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;npm i&lt;/span&gt;
    &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;npm run eslint&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;cache&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;${CI_COMMIT_REF_SLUG}&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;paths&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;node_modules/&lt;/span&gt;

&lt;span class=&quot;na&quot;&gt;test-job&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;	&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# 注明该任务在test阶段执行&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;	&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;stage&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;test&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;	script&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;  	&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;npm install --registry=https://registry.npmmirror.com&lt;/span&gt;
  &lt;span class=&quot;err&quot;&gt;	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;- npm run test&lt;/span&gt;

&lt;span class=&quot;na&quot;&gt;build-job&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;	&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# 注明该任务在build阶段执行&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;	&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;stage&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;build&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;	script&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;  	&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;npm run build&lt;/span&gt;

&lt;span class=&quot;na&quot;&gt;deploy-job&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;	&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# 注明该任务在deploy阶段执行&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;	&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;stage&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;deploy&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;	script&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;  	&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;npm deploy&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
</description>
        <pubDate>Sun, 10 Sep 2023 18:00:00 +0800</pubDate>
        <link>http://localhost:4000/2023/09/10/CICD/</link>
        <guid isPermaLink="true">http://localhost:4000/2023/09/10/CICD/</guid>
        
        <category>CI</category>
        
        <category>CD</category>
        
        <category>Git Lab</category>
        
        
      </item>
    
      <item>
        <title>有限状态机</title>
        <description>&lt;h1 id=&quot;背景&quot;&gt;背景&lt;/h1&gt;

&lt;p&gt;接手的需求是一个状态多，流程流转复杂。如果按照传统的编程思路，可能需要使用 if-else 来实现，但是这样的实现方式不利于扩展，而且不利于维护。
有限状态机在解决这种场景是比较合适的。网上的轮子很多，但是大多数都是 Java 的实现，因为整体的思想不难，所以考虑自己进行实现。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/2023_blog_img/状态机_01.jpg&quot; alt=&quot;需求状态流转&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;状态机&quot;&gt;状态机&lt;/h1&gt;

&lt;h2 id=&quot;状态机的定义&quot;&gt;状态机的定义&lt;/h2&gt;

&lt;p&gt;状态机是一种控制流的结构，它包含一组状态，每个状态都有一组动作，当状态机处于某个状态时，会执行对应的动作。&lt;/p&gt;

&lt;h2 id=&quot;有限状态机的特点&quot;&gt;有限状态机的特点&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;状态机的状态是有限的，且状态之间是有依赖关系的。&lt;/li&gt;
  &lt;li&gt;状态机的状态是独立的，不受其他状态的影响。&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;状态机的基本概念&quot;&gt;状态机的基本概念&lt;/h2&gt;

&lt;p&gt;第一个是 State ，状态。一个状态机至少要包含两个状态。例如 门有 open 和 closed 两个状态。&lt;br /&gt;
第二个是 Event ，事件。事件就是执行某个操作的触发条件或者口令。对于自动门，“按下开门按钮”就是一个事件。&lt;br /&gt;
第三个是 Action ，动作。事件发生以后要执行动作。例如事件是“按开门按钮”，动作是“开门”。编程的时候，一个 Action 一般就对应一个函数。&lt;br /&gt;
第四个是 Transition ，变换。也就是从一个状态变化为另一个状态。例如“开门过程”就是一个变换。&lt;/p&gt;

&lt;h1 id=&quot;设计实现&quot;&gt;设计实现&lt;/h1&gt;

&lt;h2 id=&quot;核心表结构设计&quot;&gt;核心表结构设计&lt;/h2&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t_state_machine&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;           &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;auto_increment&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;primary&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;project_name&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;varchar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;''&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;comment&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'项目描述'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;         &lt;span class=&quot;nb&quot;&gt;varchar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;             &lt;span class=&quot;k&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;comment&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'状态过渡触发方法名'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;`desc`&lt;/span&gt;       &lt;span class=&quot;nb&quot;&gt;varchar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;             &lt;span class=&quot;k&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;comment&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'需求触发动作'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;`from`&lt;/span&gt;       &lt;span class=&quot;nb&quot;&gt;varchar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'0'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;from_desc&lt;/span&gt;    &lt;span class=&quot;nb&quot;&gt;varchar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;             &lt;span class=&quot;k&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;`to`&lt;/span&gt;         &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;                   &lt;span class=&quot;k&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;to_desc&lt;/span&gt;      &lt;span class=&quot;nb&quot;&gt;varchar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;             &lt;span class=&quot;k&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;wx_obj&lt;/span&gt;       &lt;span class=&quot;nb&quot;&gt;varchar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2048&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;            &lt;span class=&quot;k&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;comment&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'推送微信配置'&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;核心代码实现&quot;&gt;核心代码实现&lt;/h2&gt;

&lt;h3 id=&quot;状态机类&quot;&gt;状态机类&lt;/h3&gt;

&lt;div class=&quot;language-typescript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;DemandStateMachine&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;initTransition&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;demand&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;?:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Demand&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// 在这进行转换的状态流转校验&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Action1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;initTransition&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;EventName&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;demand&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// Action 触发的后置业务逻辑&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//一连串后续操作收口到事物中进行处理&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;接口文件&quot;&gt;接口文件&lt;/h3&gt;

&lt;div class=&quot;language-typescript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;// 1. 注入状态机实例对象&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// 2. 参数校验&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;checkPermission&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// 3. 调用实例方法&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;demandStateMachine&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Action1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
</description>
        <pubDate>Thu, 02 Jun 2022 04:00:00 +0800</pubDate>
        <link>http://localhost:4000/2022/06/02/stateMachine/</link>
        <guid isPermaLink="true">http://localhost:4000/2022/06/02/stateMachine/</guid>
        
        <category>状态机</category>
        
        
      </item>
    
      <item>
        <title>回顾这一年，2021。</title>
        <description>&lt;h2 id=&quot;去年&quot;&gt;去年&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;换了一份工作&lt;/li&gt;
  &lt;li&gt;去了重庆、成都、黄山、千岛湖&lt;/li&gt;
  &lt;li&gt;读了几本书&lt;/li&gt;
  &lt;li&gt;锻炼了 100 次&lt;/li&gt;
  &lt;li&gt;…&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;感悟&quot;&gt;感悟&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;世界上完满的东西都是极其稀少的，聪明的头脑、和谐美满的家庭、靠谱的朋友、体贴的爱人、美丽的容颜和健硕得体的身体，想都要，是不是有些贪心～&lt;/li&gt;
  &lt;li&gt;回过头看，确确实实是那些沉重又窒息的时刻不断淬炼你的身心，让你更加强大。&lt;/li&gt;
  &lt;li&gt;一个人的人格和脾性或如树木。汲取身边的土壤的养分或是毒害。庆幸的是人是有选择的权利的。&lt;/li&gt;
&lt;/ol&gt;
</description>
        <pubDate>Tue, 10 May 2022 04:00:00 +0800</pubDate>
        <link>http://localhost:4000/2022/05/10/yearSummary/</link>
        <guid isPermaLink="true">http://localhost:4000/2022/05/10/yearSummary/</guid>
        
        <category>年度总结</category>
        
        
      </item>
    
      <item>
        <title>食记</title>
        <description>&lt;h2 id=&quot;中国菜的特点&quot;&gt;中国菜的特点&lt;/h2&gt;

&lt;h4 id=&quot;传统中国菜&quot;&gt;传统中国菜&lt;/h4&gt;

&lt;p&gt;传统的中国菜分为 8 大菜系，分别是：川、鲁、湘、粤、徽、闽、浙、苏。&lt;br /&gt;
川、湘菜以辣见长，口味较重。口味区别在于川菜多麻辣，但是湘菜多香辣。&lt;br /&gt;
徽菜口味鲜辣，重油、重色、重火功。口味适中，不如江浙菜的清淡、也不如川湘菜的浓重。&lt;br /&gt;
苏（江苏）菜、浙（浙江）菜个人喜欢统称之为江浙菜，两者口味相近，都是十分清淡的，菜式精致、小巧。&lt;br /&gt;
鲁菜，口味咸鲜为主，火候精湛，善制汤。&lt;br /&gt;
闽菜，口味鲜香为主，尤以“香”、“味”见长，其清鲜、和醇、荤香、不腻的风格。&lt;br /&gt;
粤菜，口味鲜香为主，讲究菜的气势，档次。&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&quot;非传统中国菜&quot;&gt;非传统中国菜&lt;/h4&gt;

&lt;p&gt;…&lt;/p&gt;

&lt;h2 id=&quot;调料&quot;&gt;调料&lt;/h2&gt;

&lt;h4 id=&quot;基础调料&quot;&gt;基础调料&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;盐。咸味，百味之首，构成食物的底味，或者说引出食物的底味。&lt;/li&gt;
  &lt;li&gt;味精。鲜味，提升菜品的鲜度，常与盐一起使用，出锅前用少量使用，不要夺取食物自身的鲜味。&lt;/li&gt;
  &lt;li&gt;白糖。甜味，白糖提鲜，也可以缓冲过量的某一味道（咸味）。&lt;/li&gt;
  &lt;li&gt;陈醋。酸味，常用于面食物，增加食欲。&lt;/li&gt;
  &lt;li&gt;白醋。酸味、无色，可以增加食物的味道，煎蛋花加入适量可以使蛋更加嫩。&lt;/li&gt;
  &lt;li&gt;生抽。调味。&lt;/li&gt;
  &lt;li&gt;老抽。上色。&lt;/li&gt;
  &lt;li&gt;料酒。去腥。&lt;/li&gt;
  &lt;li&gt;鸡精。鲜味，需要较早放入菜品。&lt;/li&gt;
  &lt;li&gt;黑胡椒粉。辛辣味。&lt;/li&gt;
  &lt;li&gt;辣椒粉。辣味。&lt;/li&gt;
  &lt;li&gt;白胡椒粉。辛辣味。&lt;/li&gt;
  &lt;li&gt;蚝油。提鲜。需要放入冰箱冷冻保存。&lt;/li&gt;
  &lt;li&gt;豆瓣酱。咸、甜、辣，提鲜以及提升菜品的颜色。需要放入冰箱冷冻保存。&lt;/li&gt;
  &lt;li&gt;泡椒。酸辣味。需要放入冰箱冷冻保存。&lt;/li&gt;
  &lt;li&gt;蒸鱼豉油。鲜味。&lt;/li&gt;
  &lt;li&gt;香油。香味。&lt;/li&gt;
  &lt;li&gt;玉米淀粉。用于勾芡、炒制前食材的腌制。&lt;/li&gt;
  &lt;li&gt;冰糖。甜味，用于糖色的炒制。&lt;/li&gt;
  &lt;li&gt;花椒。麻味。&lt;/li&gt;
  &lt;li&gt;…&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;火&quot;&gt;火&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;电磁炉。温度不高，个人觉得不适合用来做菜。&lt;/li&gt;
  &lt;li&gt;明火 - 家用，天然气或者其他。温度高且稳定。&lt;/li&gt;
  &lt;li&gt;…&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;烹饪工具&quot;&gt;烹饪工具&lt;/h2&gt;

&lt;h4 id=&quot;厨具&quot;&gt;厨具&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;炒锅。按材质可以分为很多类。选一个自己喜欢的材质的即可。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;蒸锅。用于蒸煮食材。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;砂锅。用于炖煮食材，砂锅能够使外部温度均匀的传递给食材。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;雪平锅。常用于炸品、煮面、凉拌&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;…&lt;/p&gt;

    &lt;p&gt;个人的使用频率：炒锅　&amp;gt; 蒸锅 &amp;gt; 砂锅 &amp;gt; 雪平锅&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;刀具&quot;&gt;刀具&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;菜刀。功夫在高也怕菜刀 🔪。一把菜刀走天下。切、片、砍都能驾驭。&lt;/li&gt;
  &lt;li&gt;砍骨刀。菜刀再高，也怕骨头硬！备一把砍骨刀会增加菜刀的使用寿命，毕竟谁也不想经常磨刀。&lt;/li&gt;
  &lt;li&gt;…&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;做菜整体流程&quot;&gt;做菜整体流程&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;食材的准备阶段。包括食材的清洗、切配、调味品的准备。&lt;/li&gt;
  &lt;li&gt;熟记菜谱并按照其上的顺序进行操作。&lt;/li&gt;
  &lt;li&gt;餐品出锅装盘、摆盘。&lt;/li&gt;
  &lt;li&gt;拍照。&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;烹饪技法&quot;&gt;烹饪技法&lt;/h2&gt;

&lt;h4 id=&quot;人的要素&quot;&gt;人的要素&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;勇气。&lt;br /&gt;
1.1. 锅因为油温太高，起火了，不要怕。拿锅盖盖上就是。&lt;br /&gt;
1.2. 敢颠锅。油温高，加入食材之后的一小段时间，颠锅非常容易锅内起火，不要慌，继续颠。&lt;br /&gt;&lt;/li&gt;
  &lt;li&gt;细心。切菜的时候要全身灌注。特别对这些比较滑的食材。&lt;br /&gt;&lt;/li&gt;
  &lt;li&gt;坚持。唯手熟尔。&lt;br /&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;辅助工具&quot;&gt;辅助工具&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;手机定时器。一道菜要达到预期，对火候、制作时间、食材都有所要求。比如蒸煮时间，可以借助手机定时器来进行提醒，让最棒的成品出现在我们眼前。&lt;/li&gt;
  &lt;li&gt;菜谱软件。&lt;/li&gt;
  &lt;li&gt;竹筷子。用于油温的测量。&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;刀法&quot;&gt;刀法&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;握刀。参见美食作家王刚的握刀手法。值得注意的是，大拇指一定要缩进食指内。否则很容易切到手。
前面 30 秒内容。&lt;a href=&quot;https://www.xiachufang.com/recipe/103727348/&quot;&gt;传送门&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;切工。切菜不要过于拘谨。放松。切菜的时候左手的大拇指一定要缩进其余四指里面，防止切到手。
&lt;img src=&quot;/img/cook/左手握法.jpg&quot; alt=&quot;左手握法&quot; /&gt;
在进行一些切丝的过程中切片之后可以将食材片按顺序。
&lt;img src=&quot;/img/cook/土豆丝堆叠.jpg&quot; alt=&quot;切丝&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;…&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;技法&quot;&gt;技法&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;炒。热锅热油，加入底油进行炒制。&lt;/li&gt;
  &lt;li&gt;烧。食材经过热处理之后，先用大火烧开，再用小火慢慢收汁。&lt;/li&gt;
  &lt;li&gt;炖。同烧类似，只不过，炖所保留的汤汁会多些，并且食材结果要求是软烂。&lt;/li&gt;
  &lt;li&gt;蒸。利用水蒸气将食材蒸熟。&lt;/li&gt;
  &lt;li&gt;煎。先下油，在下入食材进行两面煎煮。&lt;/li&gt;
  &lt;li&gt;炝。凉拌菜的制作方式，食材经过水烫或油滑，加上盐，味精，花椒油拌和的一种冷菜烹调方法。&lt;/li&gt;
  &lt;li&gt;…&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;小技巧&quot;&gt;小技巧&lt;/h4&gt;

&lt;p&gt;有道无术，术尚可求也。有术无道，止于术也。&lt;/p&gt;

&lt;h6 id=&quot;炒菜&quot;&gt;炒菜&lt;/h6&gt;

&lt;ol&gt;
  &lt;li&gt;热锅冷油适用大部分的炒菜。&lt;/li&gt;
  &lt;li&gt;炒制常见青菜，蒜切片，爆香，成菜味型更对。&lt;/li&gt;
  &lt;li&gt;煎蛋花的时候加入少许白醋，蛋花会更嫩。&lt;/li&gt;
  &lt;li&gt;用好一些有特殊香味的食材（芹菜），会使成菜在味觉上更加惊艳。&lt;/li&gt;
  &lt;li&gt;青椒炒蛋，建议加入豆豉味道会上一个台阶。&lt;/li&gt;
  &lt;li&gt;牛肉与香菜、芹菜的组合。&lt;/li&gt;
  &lt;li&gt;制作肉菜时，蒜是必要的，但是量得自己把控…&lt;/li&gt;
  &lt;li&gt;猪油在炒制青菜是会比其他油脂更香。&lt;/li&gt;
  &lt;li&gt;调味品的加入时间大部分是在食材快出锅之前加入。&lt;/li&gt;
  &lt;li&gt;土豆这味食材，要针对菜品对其本身的淀粉进行取舍。比如说，做酸辣土豆丝的时候切完之后要用清水清洗土豆丝多次到水质澄澈，到了就说明淀粉洗没了，这样做出的土豆丝才不会黏糊。当然在制作一些炖菜的时候我们需要汤汁尽量的浓郁，这个时候土豆就不需要清洗了。&lt;/li&gt;
  &lt;li&gt;食材本身如果过于坚硬难熟，可以提前焯水让其先熟，保证菜品在出锅时，各种食材都应是熟的状态，并且其品相都很棒。&lt;/li&gt;
  &lt;li&gt;…&lt;/li&gt;
&lt;/ol&gt;

&lt;h6 id=&quot;炖菜&quot;&gt;炖菜&lt;/h6&gt;

&lt;ol&gt;
  &lt;li&gt;为保证餐品出餐前的品相，留意配菜加入的时间节点。比如说，黄焖鸡这道菜，青椒加入的时间不应过早加入，不然在砂锅的高温下，其颜色就无法留存。&lt;/li&gt;
  &lt;li&gt;增香型配菜尽量早加，比如已经泡发好的干香菇，在炖煮过程中应该同食物一起今早放入炖煮。&lt;/li&gt;
&lt;/ol&gt;

&lt;h6 id=&quot;蒸菜&quot;&gt;蒸菜&lt;/h6&gt;

&lt;ol&gt;
  &lt;li&gt;水蒸蛋配比–蛋水比 1:1.5。为半个蛋壳作为容器可以轻松进行衡量水的量。&lt;/li&gt;
  &lt;li&gt;蒸鱼豉油在制作一些蒸菜时加入的时间是在淋完热油之后加入。&lt;/li&gt;
  &lt;li&gt;蒸米粉肉时，裹上米粉的肉放入蒸锅，蒸锅中应事先垫一些青菜或者土豆片。&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;菜谱来源&quot;&gt;菜谱来源&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;菜谱软件，比如下厨房。&lt;/li&gt;
  &lt;li&gt;哔哩哔哩美食区。如知名 up 主王刚。&lt;/li&gt;
  &lt;li&gt;抖音美食博主。&lt;/li&gt;
  &lt;li&gt;…&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;成品展示&quot;&gt;成品展示&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/img/cook/白灼虾.jpeg&quot; alt=&quot;白灼虾-清炒时蔬&quot; /&gt;
&lt;img src=&quot;/img/cook/红烧肉.jpeg&quot; alt=&quot;红烧肉-鲫鱼豆腐汤&quot; /&gt;
&lt;img src=&quot;/img/cook/鸡爪煲.jpeg&quot; alt=&quot;鸡爪煲-青椒炒蛋&quot; /&gt;
&lt;img src=&quot;/img/cook/口水鸡.jpeg&quot; alt=&quot;口水鸡&quot; /&gt;
&lt;img src=&quot;/img/cook/苦瓜虾.jpeg&quot; alt=&quot;清炒苦瓜-油爆虾&quot; /&gt;
&lt;img src=&quot;/img/cook/香辣小龙虾.jpeg&quot; alt=&quot;香辣小龙虾&quot; /&gt;
&lt;img src=&quot;/img/cook/地三鲜.jpeg&quot; alt=&quot;地三鲜&quot; /&gt;
&lt;img src=&quot;/img/cook/红烧排骨.jpeg&quot; alt=&quot;红烧排骨&quot; /&gt;
&lt;img src=&quot;/img/cook/香菇炖排骨.jpeg&quot; alt=&quot;香菇炖排骨&quot; /&gt;
&lt;img src=&quot;/img/cook/芹菜炒肉.jpeg&quot; alt=&quot;芹菜炒肉&quot; /&gt;
&lt;img src=&quot;/img/cook/清炒时蔬.jpeg&quot; alt=&quot;清炒白菜&quot; /&gt;
&lt;img src=&quot;/img/cook/清蒸鳜鱼.jpeg&quot; alt=&quot;清蒸鳜鱼&quot; /&gt;
&lt;img src=&quot;/img/cook/蒜蓉粉丝虾.jpeg&quot; alt=&quot;蒜蓉粉丝虾&quot; /&gt;
&lt;img src=&quot;/img/cook/腊味.jpg&quot; alt=&quot;腊味&quot; /&gt;
&lt;img src=&quot;/img/cook/小炒黄牛肉.jpg&quot; alt=&quot;小炒黄牛肉&quot; /&gt;
&lt;img src=&quot;/img/cook/土豆烧牛腩.jpg&quot; alt=&quot;土豆烧牛腩&quot; /&gt;
&lt;img src=&quot;/img/cook/合拍一.jpeg&quot; alt=&quot;合拍一&quot; /&gt;
&lt;img src=&quot;/img/cook/合拍二.jpeg&quot; alt=&quot;合拍二&quot; /&gt;
&lt;img src=&quot;/img/cook/合拍四.jpeg&quot; alt=&quot;合拍四&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Sun, 28 Nov 2021 18:00:00 +0800</pubDate>
        <link>http://localhost:4000/2021/11/28/cook/</link>
        <guid isPermaLink="true">http://localhost:4000/2021/11/28/cook/</guid>
        
        <category>美食</category>
        
        
      </item>
    
      <item>
        <title>写代码的一些整理</title>
        <description>&lt;p&gt;编码是每个程序员每天都在做的事情。写好代码是很重要的！&lt;/p&gt;

&lt;h2 id=&quot;写好代码不是那么容易的&quot;&gt;写好代码不是那么容易的&lt;/h2&gt;

&lt;h4 id=&quot;0-40&quot;&gt;0-&amp;gt;40&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;代码是由字母组成。所以请确保单词拼写正确。可以借助辅助的单词检查插件进行检查。&lt;/li&gt;
  &lt;li&gt;命名最好简单明了，谷歌翻译是个好东西。&lt;/li&gt;
  &lt;li&gt;变量命令请用名词，如果不清楚其可数、不可数名次的拼写形式，建议后面加上集合的名称。例如 nameList、nameArr。动作函数请用动词。&lt;/li&gt;
  &lt;li&gt;减少变量。尽可能的少用局部变量、哨兵变量。&lt;/li&gt;
  &lt;li&gt;函数的形参列表，参数超过 2 个，最好将形参变成对象。&lt;/li&gt;
  &lt;li&gt;多尝试封装。即使不能复用，也便于阅读。&lt;/li&gt;
  &lt;li&gt;函数尽可能的简单。理解起来简单，做一个简单功能，行数精简，腾讯代码规范中一个函数的代码行数不要超过 80 行。&lt;/li&gt;
  &lt;li&gt;代码分成段落。类比写文章，每个段落想说的东西是不一样的。&lt;/li&gt;
  &lt;li&gt;扎实的语言语法。&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;40-60&quot;&gt;40-&amp;gt;60&lt;/h4&gt;

&lt;p&gt;写代码的套路:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;请求参数校验。&lt;/li&gt;
  &lt;li&gt;空、错误处理。&lt;/li&gt;
  &lt;li&gt;业务（层层调用）。&lt;/li&gt;
  &lt;li&gt;数据整理并返回。&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;60-70&quot;&gt;60-&amp;gt;70&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;避免请求参数暴露数据库信息，比如一些状态的枚举值。&lt;/li&gt;
  &lt;li&gt;避免因为主键而导致的数据量的泄漏。&lt;/li&gt;
  &lt;li&gt;避免数据结构暴露数据库表结构。&lt;/li&gt;
  &lt;li&gt;使用德摩根定理。( !a &amp;amp;&amp;amp; !b) === !( a || b ) 。&lt;/li&gt;
  &lt;li&gt;必要的注释，在复杂的业务功能的接口上写上完整的操作步骤。&lt;/li&gt;
  &lt;li&gt;尽可能的避免 if 嵌套。可以采用提前 return。&lt;/li&gt;
  &lt;li&gt;熟练使用一些成熟的模块的方法，比如 lodash 等。&lt;/li&gt;
  &lt;li&gt;报错应该统一，并且错误级别应该明确。&lt;/li&gt;
  &lt;li&gt;联调之前一定要自测。&lt;/li&gt;
  &lt;li&gt;善用弱类型语言中一些语法。比如说：解构、展开、继承。&lt;/li&gt;
  &lt;li&gt;尝试用管道操作（filter、map）去替换 for 循环。代码会更加清晰。&lt;/li&gt;
  &lt;li&gt;复杂的条件逻辑可以封装成一个带有说明的函数。这样在阅读时见文知意，一目了然。&lt;/li&gt;
  &lt;li&gt;分离查询函数与修改函数。查询函数只是提供一个值，函数没有任何的副作用，可随意操作。修改函数显然就要慎重对待了。明确分离“有副作用”和“无副作用”两种函数是一个很好的想法。&lt;/li&gt;
  &lt;li&gt;以【卫语句】取代嵌套条件表达式。卫语句的精髓就是给予某条分支特别的重视，它告诉阅读者，这种情况并不是本函数的所关心的核心逻辑，如果它真的发生了，会做一些必要的工作然后提前退出。&lt;/li&gt;
  &lt;li&gt;面向对象编程。&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;70&quot;&gt;70&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;编写单元测试。&lt;/li&gt;
  &lt;li&gt;同业务方、产品进行及时的沟通，一旦需求不明确就要确认，将已经确认的信息进行记录。&lt;/li&gt;
&lt;/ol&gt;
</description>
        <pubDate>Sat, 17 Jul 2021 18:12:00 +0800</pubDate>
        <link>http://localhost:4000/2021/07/17/codeStyle/</link>
        <guid isPermaLink="true">http://localhost:4000/2021/07/17/codeStyle/</guid>
        
        <category>code</category>
        
        
      </item>
    
      <item>
        <title>中国近代史</title>
        <description>&lt;h1 id=&quot;问题&quot;&gt;问题&lt;/h1&gt;

&lt;p&gt;Q: 中国为何会遭受这几百年屈辱的历史，造成近代中国的苦难的原因是什么？&lt;br /&gt;
Q: 中国国内的精英都做了些什么？&lt;br /&gt;&lt;/p&gt;

&lt;h1 id=&quot;近代史&quot;&gt;近代史&lt;/h1&gt;

&lt;h2 id=&quot;第一次鸦片战争&quot;&gt;第一次鸦片战争&lt;/h2&gt;

&lt;h2 id=&quot;第二次鸦片战争&quot;&gt;第二次鸦片战争&lt;/h2&gt;

&lt;h2 id=&quot;洋务运动&quot;&gt;洋务运动&lt;/h2&gt;

&lt;h2 id=&quot;太平天国运动&quot;&gt;太平天国运动&lt;/h2&gt;

&lt;h2 id=&quot;义和团&quot;&gt;义和团&lt;/h2&gt;

&lt;h2 id=&quot;五四爱国运动&quot;&gt;五四爱国运动&lt;/h2&gt;

&lt;h2 id=&quot;中华民国&quot;&gt;中华民国&lt;/h2&gt;

&lt;h2 id=&quot;新中国&quot;&gt;新中国&lt;/h2&gt;
</description>
        <pubDate>Sat, 17 Jul 2021 18:12:00 +0800</pubDate>
        <link>http://localhost:4000/2021/07/17/chinaHistory/</link>
        <guid isPermaLink="true">http://localhost:4000/2021/07/17/chinaHistory/</guid>
        
        <category>历史</category>
        
        <category>中国</category>
        
        <category>近代史</category>
        
        
      </item>
    
      <item>
        <title>环境搭建</title>
        <description>&lt;p&gt;2021年年初接到一个搭建新测试环境的活。&lt;/p&gt;

&lt;h2 id=&quot;要求&quot;&gt;要求&lt;/h2&gt;
&lt;ol&gt;
  &lt;li&gt;服务器OS得为CentOS&lt;/li&gt;
  &lt;li&gt;大部分的中间件跑到Docker&lt;/li&gt;
  &lt;li&gt;原先数据迁移到新的测试服务器&lt;/li&gt;
  &lt;li&gt;拉起原先的服务&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;具体实施&quot;&gt;具体实施&lt;/h2&gt;

&lt;h3 id=&quot;安装centos&quot;&gt;安装CentOS&lt;/h3&gt;
&lt;ol&gt;
  &lt;li&gt;下载软件用以制作启动盘
 1.1 下载UltralIso 用来制作启动盘。 教程 - https://jingyan.baidu.com/article/d621e8da4aae592865913f0e.html
 1.2 下载之后直接试用 下载地址：https://pan.baidu.com/s/1vi9__14DsWH-F0KfaC2bdw#list/path=%2F（已保存到本人的百度云盘/软件/软碟通）&lt;/li&gt;
  &lt;li&gt;制作启动盘
 2.1 选择X86版本。CentOSQL8 因为是做服务器所以minimal即可。（centos8.2没有找到镜像，我是直接到这个地方找的vault.centos.org）
 2.2【重要】 用管理员身份打开UltralIso，否则在写入硬盘映像的时候无法读取到U盘。
 2.3 接下来参考博文：https://blog.csdn.net/lianshaohua/article/details/88381039
 一定要注意下面标红色的部分！！！我在制作启动盘的时候将LABEL信息设置为CentOSQ-8，这个一定要记住。
  2.4 把LABEL的信息修改成小于11位的长度
  2.5 插入U盘
  2.6 点击顶部菜单中的&lt;strong&gt;启动&lt;/strong&gt; 选择 &lt;strong&gt;写入硬盘映像&lt;/strong&gt;
  2.7 硬盘驱动器选择你的U盘，写入方式usb+hdd+
  2.8 点击写入&lt;/li&gt;
  &lt;li&gt;安装
  3.1、把U盘插在电脑上（最好是后面的USB口，有些电脑的前置USB口不支持U盘启动）
  3.2、进入电脑的BIOS界面（网上百度，win10是按住shift关机 然后启动电脑的时候按住f2）
  3.3、BIOS设置启动 参考博文：https://blog.csdn.net/weixin_42625184/article/details/105219865
  本人安装的时候在制作启动盘的时候将LABEL设置为CentOSQL-8,进入安装选择界面的时候我们选择最上面的直接安装选项，按e键进行编辑，然后将光标移动到第三行，将相关内容进行删减，使其与LABEL对上。&lt;/li&gt;
  &lt;li&gt;手动分区：
 阿里云建议：https://developer.aliyun.com/article/539989
 总共1800G容量
   /boot 	500M
   /usr 	15G
   /var	5G
   /home	1600G
   / 	 	50G
   /tmp 	5G
   swap 	32G&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;【后采用】后面又进行了一次安装，认为不需要分太多的分区，只要/ /boot /boot/efi swap
  其中swap分区跟内存有关一般设置为内存的一半，但是如果服务器内存过大也可以少设置一点&lt;/p&gt;

&lt;p&gt;cat /proc/version  //查看系统版本和内核版本&lt;/p&gt;
&lt;h3 id=&quot;联网设置静态ip&quot;&gt;联网&amp;amp;设置静态IP&lt;/h3&gt;

&lt;p&gt;联网的话：&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;找一根网线（简单）&lt;/li&gt;
  &lt;li&gt;设置Wi-Fi&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;设置静态IP：
  CentOS中的网络配置：
   CentOS中网卡配置文件通常是在/etc/sysconfig/network-scripts/路径下，文件名称一般是“ifcfg-设备名称”形式，例如设备名称是eth0，那么文件名称就是“ifcfg-eth0”(0是数字“零”)。设备名称可以通过ifconfig命令查看。可以通过命令 vi /etc/sysconfig/network-scripts/ifcfg-eth0 编辑。
  具体:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;  TYPE=&quot;Ethernet&quot;
  BOOTPROTO=&quot;none&quot;
  DEFROUTE=&quot;yes&quot;
  IPV4_FAILURE_FATAL=&quot;no&quot;
  IPV6INIT=&quot;yes&quot;
  IPV6_AUTOCONF=&quot;yes&quot;
  IPV6_DEFROUTE=&quot;yes&quot;
  IPV6_FAILURE_FATAL=&quot;no&quot;
  IPV6_ADDR_GEN_MODE=&quot;stable-privacy&quot;
  NAME=&quot;enp3s0&quot;
  UUID=&quot;xxxx-8f3a-42dc-90f6-3f80020d4f6b&quot;
  DEVICE=&quot;enp3s0&quot;
  ONBOOT=&quot;yes&quot;
  IPADDR=xxx.xx.xx.xx
  GATEWAY=xxx.xx.xx.1
  DNS1=8.8.8.8
  DNS2=114.114.114.114
  NETMASK=255.255.255.0
  PREFIX=24
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;配置完之后记得重启一下网络服务。&lt;/p&gt;

&lt;h3 id=&quot;数据迁移&quot;&gt;数据迁移&lt;/h3&gt;

&lt;p&gt;redis:通过主从复制完成。
&lt;strong&gt;相关命令&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;language-md highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;redis-cli -h 172.19.89.14 // 登陆某一台redis
slaveof 172.19.88.60 20001 // 将自己设置为某个Redis实例的从库

// 查看当前redis的 slave-read-only 配置
redis-cli -h 172.19.89.14 -p 6379 -a pwd123 config  get slave-read-only // 有密码
redis-cli -h 172.19.89.149 -p 6379 config get slave-read-only // 无密码

// 检查旧redis链接情况
redis-cli -h 172.19.88.60 -p 20001 client list  |awk -F'addr=' '{print$2}' | awk '{print$1}'|awk -F':' '{print$1}'|sort |uniq -c|sort -nr

// 查看当前Redis实例的角色，判断连接是否断开
redis-cli -h 172.19.89.149 -p 6379 info |grep role
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;mongodb: mongodump&amp;amp;mongorestore&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;将所有数据库导出到指定目录
mongodump -h 172.19.88.50 -o /home/want/mongodb&lt;/li&gt;
  &lt;li&gt;mongorestore还原数据库
mongorestore -r -h 172.19.89.149 –drop /home/want/mongodb
mongoresotre 支持-h可选项，所以不需要用scp将相关文件传输到对应的服务器上。&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;strong&gt;mysql: mysqldump (将全部的数据库导成为一个sql文件)&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;mysqldump -h 172.19.88.50 -u root -p –all-databases &amp;gt; /usr/local/sqlfile.sql // 本地文件路径随意&lt;/li&gt;
  &lt;li&gt;登陆到指定MySQL实例上
mysql -h xxx.xx.xxx.xx -u -username -p&lt;/li&gt;
  &lt;li&gt;将sql文件恢复到指定MySQL数据库实例中
source /usr/local/sqlfile.sql&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;docker下载以及相关容器的部署&quot;&gt;Docker下载以及相关容器的部署&lt;/h3&gt;
&lt;ol&gt;
  &lt;li&gt;安装Docker。略～&lt;/li&gt;
  &lt;li&gt;安装docker-compose。略～&lt;/li&gt;
  &lt;li&gt;启动容器。通过docker-compose进行启动(创建网络，docker-compose.yml书写等，具体略～)&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;安装nginx配置nginx&quot;&gt;安装Nginx&amp;amp;配置Nginx&lt;/h3&gt;
&lt;p&gt;安装Nginx
1.sudo yum install nginx&lt;/p&gt;

&lt;p&gt;启用Nginx
sudo systemctl enable nginx 
sudo systemctl start nginx&lt;/p&gt;

&lt;p&gt;验证服务是否运行
sudo systemctl status nginx&lt;/p&gt;

&lt;p&gt;调整防火墙
sudo firewall-cmd –permanent –zone=public –add-service=http
sudo firewall-cmd –permanent –zone=public –add-service=https
sudo firewall-cmd –reload&lt;/p&gt;

&lt;p&gt;测试能否正常访问
在另一台电脑的地址栏中输入：http://xxx.xx.xx.xx&lt;/p&gt;

&lt;p&gt;Nginx配置:
~&lt;/p&gt;
&lt;h2 id=&quot;后记&quot;&gt;后记&lt;/h2&gt;
&lt;h3 id=&quot;参考&quot;&gt;参考&lt;/h3&gt;
&lt;ol&gt;
  &lt;li&gt;https://www.jianshu.com/p/52e3a005fc42&lt;/li&gt;
  &lt;li&gt;mongo: https://www.jianshu.com/p/667fd4fd6ff7&lt;/li&gt;
  &lt;li&gt;redis: https://juejin.cn/post/6844904127093440520&lt;/li&gt;
  &lt;li&gt;mysql: https://blog.csdn.net/zhangzhongzhong/article/details/54949191&lt;/li&gt;
&lt;/ol&gt;
</description>
        <pubDate>Thu, 03 Dec 2020 20:12:00 +0800</pubDate>
        <link>http://localhost:4000/2020/12/03/buildServer/</link>
        <guid isPermaLink="true">http://localhost:4000/2020/12/03/buildServer/</guid>
        
        <category>Linux</category>
        
        <category>Docker</category>
        
        <category>pm2</category>
        
        
      </item>
    
      <item>
        <title>TCP/IP相关知识</title>
        <description>&lt;h3 id=&quot;开始&quot;&gt;开始&lt;/h3&gt;

&lt;h4 id=&quot;我们在地址栏中输入wwwbaiducom发生了什么&quot;&gt;我们在地址栏中输入www.baidu.com发生了什么？&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;/img/地址栏输入演示图.png&quot; alt=&quot;地址栏输入演示图&quot; /&gt;&lt;/p&gt;

&lt;p&gt;流程：&lt;br /&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;域名解析&lt;br /&gt;&lt;/li&gt;
  &lt;li&gt;发起TCP3次握手&lt;br /&gt;&lt;/li&gt;
  &lt;li&gt;建立TCP连接后发起http请求&lt;br /&gt;&lt;/li&gt;
  &lt;li&gt;服务器响应请求，返回结果&lt;br /&gt;&lt;/li&gt;
  &lt;li&gt;浏览器获取到响应，构建DOM&lt;br /&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;网络&quot;&gt;网络&lt;/h4&gt;

&lt;p&gt;它在哪？&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/何为网络.png&quot; alt=&quot;何为网络&quot; /&gt;&lt;/p&gt;

&lt;p&gt;它理想的样子：&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/OSI7层模型.png&quot; alt=&quot;OSI7层模型&quot; /&gt;&lt;/p&gt;

&lt;p&gt;每一层的作用：&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/OSI7层模型的作用.png&quot; alt=&quot;OSI7层模型的作用&quot; /&gt;&lt;/p&gt;

&lt;p&gt;现实中实际使用的TCP/IP协议簇的样子–五层模型：&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/TCP:IP协议簇.png&quot; alt=&quot;TCP/IP协议簇&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;问题1&lt;/strong&gt; 为什么TCP/IP协议要进行分层，有哪些好处以及坏处？&lt;/p&gt;

&lt;p&gt;A：…&lt;/p&gt;

&lt;h4 id=&quot;模块通信&quot;&gt;模块通信&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;/img/OSI模块通信.png&quot; alt=&quot;OSI模块通信&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;从模块通信再看地址栏中输入wwwbaiducom&quot;&gt;从模块通信再看地址栏中输入www.baidu.com&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;软件通信方式大致分为2类：电路交换和分组交换。TCP/IP 采用的是分组交换协议。

1. 用户在地址栏中输入地址
2. 本机请求DNS域名服务器获取到对应IP（DNS工作机制--逐渐往上层查询）
3. 在运输层中选择何种协议进行数据传输，并且发送端口号（识别应用）、目标端口号记录在TCP首部或者UDP首部。并将数据进行切分为数据段。
4. 在网络层进行IP寻址、路由（寻径）、IP的分包和组包，组包过程中会填充源IP地址和目标地址
5. 数据链路层 以太网帧格式中会填充源MAC地址和目的MAC地址（帧即是01的数据集合）
6. 物理层将帧拆解通过光电信号进行传输
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;进阶&quot;&gt;进阶&lt;/h3&gt;

&lt;h4 id=&quot;运输层&quot;&gt;运输层&lt;/h4&gt;

&lt;h5 id=&quot;tcp&quot;&gt;TCP&lt;/h5&gt;

&lt;p&gt;特点：可以实现全双工的并且是可靠的数据传输。&lt;/p&gt;

&lt;p&gt;实现手段：校验和、序列号、确认应答（ACK）、重发控制、连接管理、窗口控制。&lt;/p&gt;

&lt;p&gt;1.连接管理中三次握手四次挥手。&lt;br /&gt;
&lt;strong&gt;问题2： 建立连接是三次，断开连接却是四次？&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/四次挥手.png&quot; alt=&quot;四次挥手&quot; /&gt;&lt;/p&gt;

&lt;p&gt;2.重发控制中的重发时间的确认。&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;理想：确认应答一定能在n ms中返回。那么这个n就是。
实际：时间长短会随着数据包途径的网络情况不同而变化。
计算方式：计算往返时间以及其偏差相加重发超时时间，就是比这个总和要稍微大一点的值。
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;3.TCP的拥塞控制。&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h5 id=&quot;udp&quot;&gt;UDP&lt;/h5&gt;

&lt;p&gt;特点：不提供复杂的控制机制，利用IP提供面向无连接的通信服务。&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&quot;网络层&quot;&gt;网络层&lt;/h4&gt;

&lt;h5 id=&quot;路由&quot;&gt;路由&lt;/h5&gt;

&lt;p&gt;&lt;img src=&quot;/img/路由控制.png&quot; alt=&quot;路由控制&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;数据链路层&quot;&gt;数据链路层&lt;/h4&gt;

&lt;h5 id=&quot;共享介质网络&quot;&gt;共享介质网络&lt;/h5&gt;

&lt;p&gt;特点：多个设备共享一个通信介质的一种网络。&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;介质访问控制方式： &lt;br /&gt;&lt;/p&gt;

&lt;p&gt;1、争用方式。采用先到先得的方式占用信道发送数据，如果多站同时发送帧，则会产生冲突现象。&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/共享介质网络.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;解决： CSMA/CD 方式，发送数据帧前检查信道，没有数据流动则任何站都可以发送数据，如果产生冲突，则立刻释放载波信道，放弃一段随机时间后再重新争用介质，重新发送。&lt;/p&gt;

&lt;p&gt;2、令牌传递方式&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;特点：令牌传递方式是沿着令牌环发送一种叫做令牌的特殊报文，只有获得了令牌才能发送数据。&lt;/p&gt;

&lt;p&gt;解决了哪些问题：1、不会产生冲突 2、每个站都有通过平等循环获得令牌的机会。&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;问题： 在网络拥堵的情况下数据链路的利用率达不到100%。&lt;/p&gt;

&lt;h5 id=&quot;非共享介质网络&quot;&gt;非共享介质网络&lt;/h5&gt;

&lt;p&gt;特点：不共享介质，对介质采用专用的一种传输控制方式，在此种方式下，网络的每个站直连交换机，由交换机负责转发数据帧。&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;问题：一旦交换机出问题，与之相连的计算机都将无法通信。&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/非共享介质网络.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h5 id=&quot;以太网的连接形式&quot;&gt;以太网的连接形式&lt;/h5&gt;

&lt;p&gt;发展历程： 由多台终端使用同一根同轴电缆的共享介质行的连接方式 =&amp;gt; 一般采用终端与交换机之间独占电缆的方式实现以太网通信。&lt;/p&gt;

&lt;h3 id=&quot;问题&quot;&gt;问题&lt;/h3&gt;

&lt;h4 id=&quot;问题1为什么tcpip协议要进行分层有哪些好处以及坏处&quot;&gt;问题1：为什么TCP/IP协议要进行分层，有哪些好处以及坏处？&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;优势：
1. 每一层都是独立的，即是某些层发生变化，也不会波及整个系统。
2. 通过细分通信功能，更易于单独实现每个分层的协议。

劣势：
1. 可能导致过分模块化，使处理变得更加沉重。
2. 每个模块可能不得不实现相似的处理逻辑。

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;问题2建立连接是三次断开连接却是四次&quot;&gt;问题2：建立连接是三次，断开连接却是四次？&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;建立连接时，被动方服务器端结束CLOSED阶段进入“握手”阶段并不需要任何准备，可以直接返回SYN和ACK报文，开始建立连接。
释放连接时，被动方服务器，突然收到主动方客户端释放连接的请求时并不能立即释放连接，因为还有必要的数据需要处理，所以服务器先返回ACK确认收到报文，经过CLOSE-WAIT阶段准备好释放连接之后，才能返回FIN释放连接报文。
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
</description>
        <pubDate>Thu, 03 Dec 2020 20:12:00 +0800</pubDate>
        <link>http://localhost:4000/2020/12/03/network-tcpip/</link>
        <guid isPermaLink="true">http://localhost:4000/2020/12/03/network-tcpip/</guid>
        
        <category>网络</category>
        
        <category>TCP</category>
        
        <category>IP</category>
        
        
      </item>
    
      <item>
        <title>2020年年度总结</title>
        <description>&lt;p&gt;2020年是一个魔幻的一年。说起魔幻是因为确实见证了很多的第一次，第一次千万人口级别的封城、高考延期等等……&lt;br /&gt;
个人的命运无法挣脱外部环境的影响，这是每个身处其中的人们无法回避的事实。&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;总有一条蜿蜒在童话镇里的河&quot;&gt;总有一条蜿蜒在童话镇里的河&lt;/h2&gt;

&lt;p&gt;如果说2019年的主旋律是转，那么今年的主旋律是平。先说结论，今年做出了一些尝试，做了一些事情，但是依旧在许多事情上没能在进一步。
生活上，慢慢走出了迷雾。工作上虽有一些不尽人意的地方，但是也慢慢学会了与自己和解，努力修正。&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;特别感谢巫师财经在年初发的一个视频。借以此视频的相关图表以及相关数据获得了5位数的理财收益，年化收益率也达到了一个比较高的数字。当然个人十分清晰的
知道，这成绩大部分是今年这个神奇般的年份赋予的，当然也有一部分归于个人敏锐的信息辨识能力。&lt;br /&gt;
阅读一直以来是没有落下的，今年为了让自己走出困境，主要是对一些心理学的书籍进行了阅读。不得不承认，心理学知识是非常必要的，这个物质生活极大满足的社会，精神的富足难能可贵，急躁的脚本在每一个行业出现，社会上不时有人在贩卖焦虑，借以收割那些急躁的人。说到阅读，今年是第一年我产生了对它异常的眼光的一年，为何这么说，缘起一次和好友的对话，《影响力》这本书即是让我产生异样眼光的原因。&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;听说疯帽喜欢爱丽丝&quot;&gt;听说疯帽喜欢爱丽丝&lt;/h2&gt;

&lt;p&gt;年初大致拟定了如下的计划：&lt;br /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;6本+技术书籍&lt;/li&gt;
  &lt;li&gt;6本+非技术书籍&lt;/li&gt;
  &lt;li&gt;软考中级证书&lt;/li&gt;
  &lt;li&gt;坚持锻炼100天&lt;/li&gt;
  &lt;li&gt;体重到135&lt;/li&gt;
  &lt;li&gt;思考进xx的方式&lt;/li&gt;
  &lt;li&gt;爬泰山或者去成都&lt;/li&gt;
  &lt;li&gt;上海居住证&lt;/li&gt;
  &lt;li&gt;开始写作，并尝试向任何一个出版社投稿&lt;/li&gt;
  &lt;li&gt;理财相关（储蓄目标完成度）&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;从两方面来分析今年的完成情况：&lt;br /&gt;
1、学习。全年在专业领域和非专业领域上投入时间整体相当。上半年对心理学较为感兴趣阅读了《非暴力沟通》、《影响力》、《亲密关系》等书籍，在之后的时间中个人对工作有所怀疑与迷茫，原因是自己在某一些领域尝到一些甜头试图继续探究，去翻了下《穷查理宝典》明晰了本末。专业领域上，主要是阅读了一些Java技术栈的书籍和视频，诸如《Java核心技术卷》、《Maven实战》、《Spring实战》等。临近岁末也搭了一下公司内部的新的测试环境，部署相关的构件。&lt;br /&gt;
2、生活。最开心的当然就是登顶玉皇顶了，独自登高感觉很爽。遗憾的是体重没有达标，这也连续第二年体重没有达标了，美食总是给人温暖，难以抗拒。&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;丑小鸭会变成美丽的白天鹅&quot;&gt;丑小鸭会变成美丽的白天鹅&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;恶意（日 东野圭吾）&lt;/li&gt;
  &lt;li&gt;月亮与六便士 （英 威廉·萨默塞特·毛姆）&lt;/li&gt;
  &lt;li&gt;非暴力沟通 (美 马歇尔·卢森堡)&lt;/li&gt;
  &lt;li&gt;浮生六记 （沈复）&lt;/li&gt;
  &lt;li&gt;小狗钱钱 （德 博多·舍费尔）&lt;/li&gt;
  &lt;li&gt;墨菲定律&lt;/li&gt;
  &lt;li&gt;钢铁、枪炮和病菌（美 贾雷德·戴蒙德）&lt;/li&gt;
  &lt;li&gt;山月记 （日 中岛敦）&lt;/li&gt;
  &lt;li&gt;影响力 （美 罗伯特·西奥迪尼）&lt;/li&gt;
  &lt;li&gt;穷查理宝典 （美 考夫曼）&lt;/li&gt;
  &lt;li&gt;老人与海 （美 海鸣威）&lt;/li&gt;
  &lt;li&gt;万历十五年 （美籍华人 黄仁宇）&lt;/li&gt;
  &lt;li&gt;低智商社会 （日 大前研一）&lt;/li&gt;
  &lt;li&gt;解读中国经济 （林毅夫）&lt;/li&gt;
  &lt;li&gt;如何阅读一本书 （美 莫提默·J. 艾德勒、查尔斯·范多伦）&lt;/li&gt;
  &lt;li&gt;大江东去（阿耐)&lt;/li&gt;
  &lt;li&gt;图解TCP/IP&lt;/li&gt;
  &lt;li&gt;软件设计师教程&lt;/li&gt;
  &lt;li&gt;Java核心技术卷一第十版&lt;/li&gt;
  &lt;li&gt;Maven实战&lt;/li&gt;
  &lt;li&gt;Java开发手册&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;只有睿智的河水知道&quot;&gt;只有睿智的河水知道&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;书之于人，有好坏之分。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;吾尝终日而思矣，不如须臾之所学也。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;赌博最大的危害在于一旦人尝到了赚快钱的快感，他是不愿意去工作赚慢钱的。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;黄赌毒中的黄和赌是不分家，一旦染上其一大概率会染上另一个。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;即使在不舍也没用，尽力而为不留遗憾。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;把整个社会比之于一根树，这棵树上会有一些成熟的果子，空气中浸润着它们成熟的气息。也会有一些青色的果子，假以时日它们也会成熟。但是这树上还有一大部分已经快风干脱落的枳。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;阅读本身也是一个流程化的过程，既然是流程化的过程，也会有其标准。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;事事都求逻辑性显然这很不符合逻辑，就像这次总结。&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Thu, 03 Dec 2020 20:12:00 +0800</pubDate>
        <link>http://localhost:4000/2020/12/03/summary/</link>
        <guid isPermaLink="true">http://localhost:4000/2020/12/03/summary/</guid>
        
        <category>年度总结</category>
        
        
      </item>
    
  </channel>
</rss>
